if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(cC,cL,dT){function a2(d2){if(typeof d2!=="function"){return}var e=false;function d1(){if(!e){e=true;d2();if(typeof cL.removeEventListener==="function"){cL.removeEventListener("DOMContentLoaded",d1)}}}if(cL.readyState==="interactive"||cL.readyState==="complete"){d1()}else{cu(cL,"DOMContentLoaded",d1)}}var da=function(){var e=cC.maCookiePrefix;return typeof e==="string"?e:"roistat"};var N=da();var bt=function(){return cC[N+"Host"]};var aM=false,cX="381",bv=13,dl=42,b1=bt(),bl="0.2",c="1.0",dV="roistat_visit_cookie_expire",aW="roistat_visit",ah="roistat_cookies_to_resave",bT="roistat_guid",O="roistat_next_guid",bV="roistat_first_visit",dZ="roistat_is_need_listen_requests",u="roistat_is_save_data_in_cookie",bW="roistat_phone",cN="roistat_raw_phone",G="roistat_externalCountersEnabled",ab="roistat_referrer",bf="roistat_marker",dP="roistat_marker_old",bk="roistat_ab",F="roistat_previous_ab",dD="roistat_ab_submit",ap=35*24*60*60,br="rs",be="roistat",cr="leadhunter_expire",c3=5*60*60,ch="roistat_leadHunterEnabled",bg="roistat_leadHunterTargetPagesMap",bG="roistat_leadHunterCallbackSettings",bx="roistat_leadHunterScriptId",ay="roistat_isleadHunterScriptIdActive",bN="roistat_multiwidgetEnabled",n="roistat_multiwidgetVKEnabled",w="roistat_multiwidgetVKLink",U="roistat_multiwidgetFBEnabled",cP="roistat_multiwidgetFBLink",a8="roistat_multiwidgetTelegramEnabled",dJ="roistat_multiwidgetTelegramLink",cg="roistat_multiwidgetWhatsAppEnabled",aV="roistat_multiwidgetWhatsAppLink",a="roistat_multiwidgetViberEnabled",b0="roistat_multiwidgetViberLink",cS="roistat_multiwidgetSettings",bC="roistat_onlineChatEnabled",aU="roistat_onlineChatSettings",bn=7*24*60*60,L={expires:bn,path:"/"},cA="roistat-promo",dK="roistat-phone",c7="roistat-phone-country",bU="roistat-phone-region",v="roistat-phone-number",a1="roistat-phone-tel",ds="country",dz="region",bB="number",c8="tel",b2="get-phone",af="roistat_call_tracking",b4="roistat-js-script",b7="roistat_phone_replacement",aZ="roistat_phone_script_data",R="roistat-visit-id",d="roistat_metrika_counter_id",a0="roistat_marker_from_referrer",t="roistat_emailtracking_email",cO="roistat_emailtracking_tracking_email",bs="roistat_emailtracking_emails",cD="roistat_geo_data",bz="roistat_promo_code",bh="roistat_links_markup",dy="roistat_proxy_forms",dx="roistat_isMultiDomain",ci=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],ce="roistat_debug",dg="roistat_settings_saved",al="nocookie",cd=["yandex.ru"],dX="beta_test",q="roistat_settings_version",c2="roistat-leadhunter-form-template",bA="roistat-leadhunter-pulsator-template",b9="roistat-leadhunter-pulsator-settings",l="roistat-online-chat-pulsator-template",bc="roistat-online-chat-iframe-template",f="roistat-multiwidget-pulsator-template",H="roistat-multiwidget-pulsator-settings",cc="roistat_last_settings_update_time",dL="roistat_authorized_client",cK="roistat_params",b8=50,ad="mobile",av="tablet",aS="desktop",dS=500,Z=1024;
var aY="ru",dd="en",aP={ru:["Русский","Russian"],en:["Английский","English"]},dm,a3;var I={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var J={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false,isAbTestsApplied:false};var dr={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[],onAbTestsApplied:{}};if(cC.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}cC.roistatAlreadyStarted=true;if(cC.roistatCookieDomain){L.domain=cC.roistatCookieDomain}var cz=function(){return new Date().getTime()};var bO=function(d1){var d2=cz()-cx;var e="["+(d2/1000)+"s] "+d1;s=s+"; "+e;if(typeof console!=="undefined"&&console.log&&aM){console.log(e)}};var j=function(e){var d2=e.split(".");var d1=d2.length;if(d1<2){return e}return d2[d1-2]+"."+d2[d1-1]};var ar=function(){var d1=cC.screen||null;var e=cC.navigator||null;return{screenWidth:d1!==null?(d1.width||null):null,screenHeight:d1!==null?(d1.height||null):null,screenIsExtended:d1!==null?(d1.isExtended||null):null,screenPixelDepth:d1!==null?(d1.pixelDepth||null):null,screenColorDepth:d1!==null?(d1.colorDepth||null):null,deviceMemory:e!==null?(e.deviceMemory||null):null,hardwareConcurrency:e!==null?(e.hardwareConcurrency||null):null,language:e!==null?(e.language||null):null,maxTouchPoints:e!==null?(e.maxTouchPoints||null):null,platform:e!==null?(e.platform||null):null}};var aD="cllctr."+j(b1);cC.roistat={version:cX,getSource:function(){return J.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){J.visitFromUser=e},registerOnVisitProcessedCallback:function(e){aj(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){cZ(e)},disableCallTracking:function(){I.callTrackingEnabled=false},setCallTrackingManualMode:function(){I.callTrackingManual=true},setJSONPRequestTimeout:function(e){I.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:"",rawPhone:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){bO("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null,translate:null},actions:{initWithMessage:null,openChat:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true},linksMarkup:{ozonId:null,wildberriesId:null},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},registerAbTestCallback:function(e,d1){if(!J.isAbTestsApplied&&typeof d1==="function"){dr.onAbTestsApplied[e]=d1}},authClientById:function(e){x(e,dT)},authClientByEmail:function(e){x(dT,e)},sendDeviceFingerprint:function(){bO("Send device fingerprint start");var e=dh();var d2=ar();var d5="";for(var d4 in d2){if(!d2.hasOwnProperty(d4)){continue}var d3=d2[d4];if(d3!==null){d5+="&"+d4+"="+encodeURIComponent(d3)}}var d1=bR()+"/device/info/register?visit="+e+d5;c5(d1);bO("Send device fingerprint completed")},setDeviceParams:function(){if(!J.isVisitProcessed){bO("Visit is not processed, return");return}var e=dh();if(e<=0){bO("Invalid arguments, return");return}var d2=ar();var d1=bR()+"/update-visit-by-device-params?visit="+e+"&v="+cX;for(var d4 in d2){if(!d2.hasOwnProperty(d4)){continue}var d3=d2[d4];if(d3===null){continue}d1+="&"+d4+"="+encodeURIComponent(d3)}c5(d1)},setRoistatParams:function(d7,d6,d4,d3,d2){var d8=d7!==null&&p(d7)?d7:{roistat_param1:d7,roistat_param2:d6,roistat_param3:d4,roistat_param4:d3,roistat_param5:d2};if(!J.isVisitProcessed){bO("Visit is not processed, return");return}var d5=dh();if(d5<=0){bO("Invalid arguments, return");return}var d9=dA(d8);if(!z(d9)){bO("Has no valid roistat params for visit update, return");return}M(d9);var e=bR()+"/update-visit-by-params?visit="+d5+"&v="+cX;for(var d1 in d9){if(!Object.prototype.hasOwnProperty.call(d9,d1)){continue}e+="&"+d1+"="+encodeURIComponent(d9[d1])}c5(e)}};var dA=function(d3){var e={};for(var d2=1;d2<=b8;d2++){var d1="roistat_param"+d2;if(!Object.prototype.hasOwnProperty.call(d3,d1)){continue}var d4=d3[d1];if(d4!==dT&&d4!==null&&d4.toString().length>0){e[d1]=d4
}}return e};var M=function(d2){var d4=cK;var d1=aT.get(d4);var e=JSON.stringify(d2);var d3=d1===e;if(e!=null&&e.length>0){c0(d2)}if(d3){bO("Params already updated, return");return}aT.set(d4,e)};var c0=function(d1){for(var e=1;e<=b8;e++){var d2="roistat_param"+e;if(d1.hasOwnProperty(d2)){cC.roistat.page.params[d2]=d1[d2]}}};var x=function(e,d3){if(!J.isVisitProcessed){bO("Visit is not processed, return");return}var d4=e!==dT&&e.length>0,d7=d3!==dT&&d3.length>0;if(!d4&&!d7){bO("Invalid client params, return");return}var d5=dh();if(d5<=0){bO("Invalid arguments, return");return}var d6=dL,d8=aT.get(d6),d2=d4?e:d3;if(d8===d2){bO('Client "'+d2+'" is already authorized, return');return}bO("Auth client: "+d2);aT.set(d6,d2);var d1=bR()+"/update-visit-by-client?visit="+d5+"&v="+cX;if(d4){d1+="&client_id="+encodeURIComponent(e)}if(d7){d1+="&client_email="+encodeURIComponent(d3)}c5(d1)};var bY=function(d3,d1){var d2=d3.length;for(var e=0;e<d2;e++){if(d1===d3[e]){return true}}return false};var b5=function(){return cB(dX)>0};var g=function(){return cC.location.protocol+"//"+cC.location.host+cC.location.pathname};var bF=function(){if(c4()){return ad}if(cp()){return av}return aS};var c4=function(){return cC.innerWidth<=dS};var cp=function(){return cC.innerWidth>dS&&cC.innerWidth<=Z};var aI=function(){return c4()||cp()};var dq=function(){return cC[N+"ProjectId"]};var dM=function(){var e=dq().replace(/\D/g,"");bO("getProjectHash: "+e);return e};var ae=function(e){var d1=dM();return bY(e,d1)};var cw=function(e){return JSON.parse(JSON.stringify(e))};var a7=function(){var d1=cw(L),e=parseInt(aT.get(dV));d1.expires=e>0?e:bn;return d1};var aj=function(e){if(!J.isVisitProcessed){dr.onVisitProcessed.push(e)}else{e()}};var dY=function(){J.isVisitProcessed=true;bO("[Roistat] visit id set. Processing callbacks");var d1=dr.onVisitProcessed.length;for(var e=0;e<d1;e++){dr.onVisitProcessed[e]()}if(cC.roistatVisitCallback!==dT){cC.roistatVisitCallback(cC.roistat.getVisit())}};var cZ=function(e){dr.onCallTrackingPhoneReceived.push(e)};var cj=function(){var d1=dr.onCallTrackingPhoneReceived.length;for(var e=0;e<d1;e++){dr.onCallTrackingPhoneReceived[e]()}};var c6=function c6(e){dr.onSPAPageChanged.push(e)};var cR=function cR(){bO("[Roistat] SPA page changed. Processing callbacks");var d1=dr.onSPAPageChanged.length;for(var e=0;e<d1;e++){dr.onSPAPageChanged[e]()}};var dw=function(d4,d3){var d2=d4.className.split(" "),d1=false,e;for(var e=0;e<d2.length;e++){if(d2[e]===d3){d1=true;break}}if(!d1){d2.push(d3);d4.className=d2.join(" ")}};var dE=function(d3,d2){var d1=d3.className.split(" "),e;for(var e=0;e<d1.length;e++){if(d1[e]===d2){d1.splice(e,1);d3.className=d1.join(" ");break}}};var bK=function(d2){try{return decodeURIComponent(d2)}catch(d3){var d1;d1=aH(d2);if(d1===null){return d2}return d1}};var C={visitor_uid:function(){bO("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!p(cC.AMOPIXEL_IDENTIFIER)||!aJ(cC.AMOPIXEL_IDENTIFIER.getVisitorUid)){bO("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!cG(e)){bO("AmoCrmUID: visitor_uid value must be a string");return null}return e},roistat_yclid:function(){return co("yclid",false)},roistat_gclid:function(){return co("gclid",false)},roistat_rb_clickid:function(){return co("rb_clickid",false)}};var ca=function(){for(var d1 in C){var e=C[d1]();if(e===null){continue}aX(d1,e,L)}};var b3=function(){return["_ym_uid","_ga","_fbp","_fbc"].concat(ba(C))};var aH=function(d5){var d4={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var d2="";var d3=0;while(d3<d5.length){var d1=d5.substring(d3,d3+3);if(Object.prototype.hasOwnProperty.call(d4,d1)){d2+=d4[d1];d3+=3}else{d2+=d5.substring(d3,d3+1);d3++}}try{return decodeURIComponent(d2)}catch(d6){return null}};var bL=function(){if(typeof cC.roistatInitPage!=="string"||cC.roistatInitPage===""||cC.roistatInitPage==="{ROISTAT_INIT_PAGE}"){return cL.location.href}return cC.roistatInitPage};cC.roistatVersion=cX;var dR,ak=ae([]),o=ae(["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827"]),cn=ae(["756305455392462179","5920396192098309402868"]),dH=ae(["509232858000518895","5920396192098309402868"]),aK,aq=true,k=decodeURIComponent(bL()),s="",cl="",cx=new Date().getTime(),dp=false,b=cC.roistatPhonePrefix?cC.roistatPhonePrefix:"",aE=cC.roistatPhonePrefixBind?cC.roistatPhonePrefixBind:"",cs=cC.roistatCalltrackingScripts&&cC.roistatCalltrackingScripts.join?cC.roistatCalltrackingScripts.join(","):"";
var h=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);var df=function(e){if(!o){return e}var d1=e.replace(/^roistat[_-]/,"");return N+"_"+d1};var cB,aX,bZ,dN;cB=cC.roistatGetCookie=function(e){var d1=df(e);var d2=cL.cookie.match(new RegExp("(?:^|; )"+d1.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return d2?bK(d2[1]):dT};bZ=function(e,d7,d8){var d5=df(e);d8=d8||{};var d3=d8.expires;if(typeof d3=="number"&&d3){var d6=new Date();d6.setTime(d6.getTime()+d3*1000);d3=d8.expires=d6}if(d3&&d3.toUTCString){d8.expires=d3.toUTCString()}d7=encodeURIComponent(d7);var d1=d5+"="+d7;for(var d4 in d8){d1+="; "+d4;var d2=d8[d4];if(d2!==true){d1+="="+d2}}cL.cookie=d1};aX=cC.roistatSetCookie=function aX(d1,d4,e){bZ(d1,d4,e);var d3;d3=cB(ah);d3=cG(d3)?d3.split(","):[];for(var d2 in d3){if(d3[d2]===d1){return}}d3.push(d1);bZ(ah,d3.join(","),{path:"/"})};dN=function dN(d1,e){var d2=cw(e);d2.expires=new Date(0).toUTCString();bZ(d1,"",d2)};var aN=function(d1,d3,d2){var e=d1[d3];d1[d3]=function(){if(e){e.apply(this,arguments)}d2.apply(this,arguments)}};var cu=function(d2,d1,d3){if(d2.addEventListener){d2.addEventListener(d1,d3,false);return}var e="on"+d1;if(d2.attachEvent){d2.attachEvent(e,d3);return}if(e in d2){aN(d2,e,d3);return}if(d1 in d2){aN(d2,d1,d3);return}bO("Handler could not be attached")};var d0=function(d3,d2){var d1=d3.length;for(var e=0;e<d1;e++){d2(d3[e])}};var ba=function(e){var d1=[];c1(e,function(d2,d3){d1.push(d2)});return d1};var c1=function(e,d2){for(var d1 in e){if(Object.prototype.hasOwnProperty.call(e,d1)){d2(d1,e[d1])}}};var y=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var z=function(d1){if(typeof d1!=="object"){return false}for(var e in d1){if(d1.hasOwnProperty(e)){return true}}return false};var a5=function(d2){try{var d1=JSON.parse(d2);if(d1&&typeof d1==="object"){return d1}}catch(d3){}return null};if(cL.getElementsByClassName==dT){cL.getElementsByClassName=function(d1){var e=[];var d5=new RegExp("\\b"+d1+"\\b");var d4=this.getElementsByTagName("*");for(var d3=0;d3<d4.length;d3++){var d2=d4[d3].className;if(d5.test(d2)){e.push(d4[d3])}}return e}}var bd=function(){return String.fromCharCode};var cU=function(d2){var e="";for(var d1=0;d1<d2.length;++d1){e+=bd()(dl^d2.charCodeAt(d1))}return e};var dG=function(e){return encodeURIComponent(cU(a9.encode(e)))};var a9={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(d2){var e="";var d9,d7,d5,d8,d6,d4,d3;var d1=0;d2=a9._utf8_encode(d2);while(d1<d2.length){d9=d2.charCodeAt(d1++);d7=d2.charCodeAt(d1++);d5=d2.charCodeAt(d1++);d8=d9>>2;d6=((d9&3)<<4)|(d7>>4);d4=((d7&15)<<2)|(d5>>6);d3=d5&63;if(isNaN(d7)){d4=d3=64}else{if(isNaN(d5)){d3=64}}e=e+this._keyStr.charAt(d8)+this._keyStr.charAt(d6)+this._keyStr.charAt(d4)+this._keyStr.charAt(d3)}return e},decode:function(d2){var e="";var d9,d7,d5;var d8,d6,d4,d3;var d1=0;d2=d2.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(d1<d2.length){d8=this._keyStr.indexOf(d2.charAt(d1++));d6=this._keyStr.indexOf(d2.charAt(d1++));d4=this._keyStr.indexOf(d2.charAt(d1++));d3=this._keyStr.indexOf(d2.charAt(d1++));d9=(d8<<2)|(d6>>4);d7=((d6&15)<<4)|(d4>>2);d5=((d4&3)<<6)|d3;e=e+String.fromCharCode(d9);if(d4!=64){e=e+String.fromCharCode(d7)}if(d3!=64){e=e+String.fromCharCode(d5)}}e=a9._utf8_decode(e);return e},_utf8_encode:function(d1){d1=d1.replace(/\r\n/g,"\n");var e="";for(var d3=0;d3<d1.length;d3++){var d2=d1.charCodeAt(d3);if(d2<128){e+=String.fromCharCode(d2)}else{if((d2>127)&&(d2<2048)){e+=String.fromCharCode((d2>>6)|192);e+=String.fromCharCode((d2&63)|128)}else{e+=String.fromCharCode((d2>>12)|224);e+=String.fromCharCode(((d2>>6)&63)|128);e+=String.fromCharCode((d2&63)|128)}}}return e},_utf8_decode:function(e){var d2="";var d4=0;var d5=0;var d3=0;var d1=0;while(d4<e.length){d5=e.charCodeAt(d4);if(d5<128){d2+=String.fromCharCode(d5);d4++}else{if((d5>191)&&(d5<224)){d3=e.charCodeAt(d4+1);d2+=String.fromCharCode(((d5&31)<<6)|(d3&63));d4+=2}else{d3=e.charCodeAt(d4+1);d1=e.charCodeAt(d4+2);d2+=String.fromCharCode(((d5&15)<<12)|((d3&63)<<6)|(d1&63));d4+=3}}}return d2}};var aA=aA||function(ec,d2){var d4={},d5=d4.lib={},d3=function(){},e=d5.Base={extend:function(ed){d3.prototype=this;var ee=new d3;ed&&ee.mixIn(ed);ee.hasOwnProperty("init")||(ee.init=function(){ee.$super.init.apply(this,arguments)});ee.init.prototype=ee;ee.$super=this;return ee},create:function(){var ed=this.extend();ed.init.apply(ed,arguments);return ed},init:function(){},mixIn:function(ed){for(var ee in ed){ed.hasOwnProperty(ee)&&(this[ee]=ed[ee])}ed.hasOwnProperty("toString")&&(this.toString=ed.toString)},clone:function(){return this.init.prototype.extend(this)}},d1=d5.WordArray=e.extend({init:function(ed,ee){ed=this.words=ed||[];this.sigBytes=ee!=d2?ee:4*ed.length},toString:function(ed){return(ed||eb).stringify(this)},concat:function(ed){var eg=this.words,ee=ed.words,ef=this.sigBytes;ed=ed.sigBytes;this.clamp();if(ef%4){for(var eh=0;eh<ed;eh++){eg[ef+eh>>>2]|=(ee[eh>>>2]>>>24-8*(eh%4)&255)<<24-8*((ef+eh)%4)
}}else{if(65535<ee.length){for(eh=0;eh<ed;eh+=4){eg[ef+eh>>>2]=ee[eh>>>2]}}else{eg.push.apply(eg,ee)}}this.sigBytes+=ed;return this},clamp:function(){var ed=this.words,ee=this.sigBytes;ed[ee>>>2]&=4294967295<<32-8*(ee%4);ed.length=ec.ceil(ee/4)},clone:function(){var ed=e.clone.call(this);ed.words=this.words.slice(0);return ed},random:function(ed){for(var ef=[],ee=0;ee<ed;ee+=4){ef.push(4294967296*ec.random()|0)}return new d1.init(ef,ed)}}),d9=d4.enc={},eb=d9.Hex={stringify:function(ed){var ee=ed.words;ed=ed.sigBytes;for(var eh=[],eg=0;eg<ed;eg++){var ef=ee[eg>>>2]>>>24-8*(eg%4)&255;eh.push((ef>>>4).toString(16));eh.push((ef&15).toString(16))}return eh.join("")},parse:function(ed){for(var ee=ed.length,eg=[],ef=0;ef<ee;ef+=2){eg[ef>>>3]|=parseInt(ed.substr(ef,2),16)<<24-4*(ef%8)}return new d1.init(eg,ee/2)}},d8=d9.Latin1={stringify:function(ed){var ee=ed.words;ed=ed.sigBytes;for(var eg=[],ef=0;ef<ed;ef++){eg.push(String.fromCharCode(ee[ef>>>2]>>>24-8*(ef%4)&255))}return eg.join("")},parse:function(ed){for(var ee=ed.length,eg=[],ef=0;ef<ee;ef++){eg[ef>>>2]|=(ed.charCodeAt(ef)&255)<<24-8*(ef%4)}return new d1.init(eg,ee)}},ea=d9.Utf8={stringify:function(ed){try{return decodeURIComponent(escape(d8.stringify(ed)))}catch(ee){throw Error("Malformed UTF-8 data")}},parse:function(ed){return d8.parse(unescape(encodeURIComponent(ed)))}},d7=d5.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new d1.init;this._nDataBytes=0},_append:function(ed){"string"==typeof ed&&(ed=ea.parse(ed));this._data.concat(ed);this._nDataBytes+=ed.sigBytes},_process:function(ee){var eg=this._data,ej=eg.words,ei=eg.sigBytes,eh=this.blockSize,ed=ei/(4*eh),ed=ee?ec.ceil(ed):ec.max((ed|0)-this._minBufferSize,0);ee=ed*eh;ei=ec.min(4*ee,ei);if(ee){for(var ef=0;ef<ee;ef+=eh){this._doProcessBlock(ej,ef)}ef=ej.splice(0,ee);eg.sigBytes-=ei}return new d1.init(ef,ei)},clone:function(){var ed=e.clone.call(this);ed._data=this._data.clone();return ed},_minBufferSize:0});d5.Hasher=d7.extend({cfg:e.extend(),init:function(ed){this.cfg=this.cfg.extend(ed);this.reset()},reset:function(){d7.reset.call(this);this._doReset()},update:function(ed){this._append(ed);this._process();return this},finalize:function(ed){ed&&this._append(ed);return this._doFinalize()},blockSize:16,_createHelper:function(ed){return function(ee,ef){return(new ed.init(ef)).finalize(ee)}},_createHmacHelper:function(ed){return function(ee,ef){return(new d6.HMAC.init(ed,ef)).finalize(ee)}}});var d6=d4.algo={};return d4}(Math);(function(ea){function d2(ee,ef,ec,eh,ed,eg,eb){ee=ee+(ef&ec|~ef&eh)+ed+eb;return(ee<<eg|ee>>>32-eg)+ef}function d4(ee,ef,ec,eh,ed,eg,eb){ee=ee+(ef&eh|ec&~eh)+ed+eb;return(ee<<eg|ee>>>32-eg)+ef}function d5(ee,ef,ec,eh,ed,eg,eb){ee=ee+(ef^ec^eh)+ed+eb;return(ee<<eg|ee>>>32-eg)+ef}function d3(ee,ef,ec,eh,ed,eg,eb){ee=ee+(ec^(ef|~eh))+ed+eb;return(ee<<eg|ee>>>32-eg)+ef}for(var e=aA,d1=e.lib,d7=d1.WordArray,d9=d1.Hasher,d1=e.algo,d6=[],d8=0;64>d8;d8++){d6[d8]=4294967296*ea.abs(ea.sin(d8+1))|0}d1=d1.MD5=d9.extend({_doReset:function(){this._hash=new d7.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(es,ep){for(var ex=0;16>ex;ex++){var er=ep+ex,ee=es[er];es[er]=(ee<<8|ee>>>24)&16711935|(ee<<24|ee>>>8)&4278255360}var ex=this._hash.words,er=es[ep+0],ee=es[ep+1],eq=es[ep+2],en=es[ep+3],el=es[ep+4],ej=es[ep+5],eh=es[ep+6],eg=es[ep+7],ef=es[ep+8],ed=es[ep+9],ec=es[ep+10],eb=es[ep+11],eo=es[ep+12],em=es[ep+13],ek=es[ep+14],ei=es[ep+15],ew=ex[0],ev=ex[1],eu=ex[2],et=ex[3],ew=d2(ew,ev,eu,et,er,7,d6[0]),et=d2(et,ew,ev,eu,ee,12,d6[1]),eu=d2(eu,et,ew,ev,eq,17,d6[2]),ev=d2(ev,eu,et,ew,en,22,d6[3]),ew=d2(ew,ev,eu,et,el,7,d6[4]),et=d2(et,ew,ev,eu,ej,12,d6[5]),eu=d2(eu,et,ew,ev,eh,17,d6[6]),ev=d2(ev,eu,et,ew,eg,22,d6[7]),ew=d2(ew,ev,eu,et,ef,7,d6[8]),et=d2(et,ew,ev,eu,ed,12,d6[9]),eu=d2(eu,et,ew,ev,ec,17,d6[10]),ev=d2(ev,eu,et,ew,eb,22,d6[11]),ew=d2(ew,ev,eu,et,eo,7,d6[12]),et=d2(et,ew,ev,eu,em,12,d6[13]),eu=d2(eu,et,ew,ev,ek,17,d6[14]),ev=d2(ev,eu,et,ew,ei,22,d6[15]),ew=d4(ew,ev,eu,et,ee,5,d6[16]),et=d4(et,ew,ev,eu,eh,9,d6[17]),eu=d4(eu,et,ew,ev,eb,14,d6[18]),ev=d4(ev,eu,et,ew,er,20,d6[19]),ew=d4(ew,ev,eu,et,ej,5,d6[20]),et=d4(et,ew,ev,eu,ec,9,d6[21]),eu=d4(eu,et,ew,ev,ei,14,d6[22]),ev=d4(ev,eu,et,ew,el,20,d6[23]),ew=d4(ew,ev,eu,et,ed,5,d6[24]),et=d4(et,ew,ev,eu,ek,9,d6[25]),eu=d4(eu,et,ew,ev,en,14,d6[26]),ev=d4(ev,eu,et,ew,ef,20,d6[27]),ew=d4(ew,ev,eu,et,em,5,d6[28]),et=d4(et,ew,ev,eu,eq,9,d6[29]),eu=d4(eu,et,ew,ev,eg,14,d6[30]),ev=d4(ev,eu,et,ew,eo,20,d6[31]),ew=d5(ew,ev,eu,et,ej,4,d6[32]),et=d5(et,ew,ev,eu,ef,11,d6[33]),eu=d5(eu,et,ew,ev,eb,16,d6[34]),ev=d5(ev,eu,et,ew,ek,23,d6[35]),ew=d5(ew,ev,eu,et,ee,4,d6[36]),et=d5(et,ew,ev,eu,el,11,d6[37]),eu=d5(eu,et,ew,ev,eg,16,d6[38]),ev=d5(ev,eu,et,ew,ec,23,d6[39]),ew=d5(ew,ev,eu,et,em,4,d6[40]),et=d5(et,ew,ev,eu,er,11,d6[41]),eu=d5(eu,et,ew,ev,en,16,d6[42]),ev=d5(ev,eu,et,ew,eh,23,d6[43]),ew=d5(ew,ev,eu,et,ed,4,d6[44]),et=d5(et,ew,ev,eu,eo,11,d6[45]),eu=d5(eu,et,ew,ev,ei,16,d6[46]),ev=d5(ev,eu,et,ew,eq,23,d6[47]),ew=d3(ew,ev,eu,et,er,6,d6[48]),et=d3(et,ew,ev,eu,eg,10,d6[49]),eu=d3(eu,et,ew,ev,ek,15,d6[50]),ev=d3(ev,eu,et,ew,ej,21,d6[51]),ew=d3(ew,ev,eu,et,eo,6,d6[52]),et=d3(et,ew,ev,eu,en,10,d6[53]),eu=d3(eu,et,ew,ev,ec,15,d6[54]),ev=d3(ev,eu,et,ew,ee,21,d6[55]),ew=d3(ew,ev,eu,et,ef,6,d6[56]),et=d3(et,ew,ev,eu,ei,10,d6[57]),eu=d3(eu,et,ew,ev,eh,15,d6[58]),ev=d3(ev,eu,et,ew,em,21,d6[59]),ew=d3(ew,ev,eu,et,el,6,d6[60]),et=d3(et,ew,ev,eu,eb,10,d6[61]),eu=d3(eu,et,ew,ev,eq,15,d6[62]),ev=d3(ev,eu,et,ew,ed,21,d6[63]);
ex[0]=ex[0]+ew|0;ex[1]=ex[1]+ev|0;ex[2]=ex[2]+eu|0;ex[3]=ex[3]+et|0},_doFinalize:function(){var ed=this._data,ee=ed.words,eb=8*this._nDataBytes,ef=8*ed.sigBytes;ee[ef>>>5]|=128<<24-ef%32;var ec=ea.floor(eb/4294967296);ee[(ef+64>>>9<<4)+15]=(ec<<8|ec>>>24)&16711935|(ec<<24|ec>>>8)&4278255360;ee[(ef+64>>>9<<4)+14]=(eb<<8|eb>>>24)&16711935|(eb<<24|eb>>>8)&4278255360;ed.sigBytes=4*(ee.length+1);this._process();ed=this._hash;ee=ed.words;for(eb=0;4>eb;eb++){ef=ee[eb],ee[eb]=(ef<<8|ef>>>24)&16711935|(ef<<24|ef>>>8)&4278255360}return ed},clone:function(){var eb=d9.clone.call(this);eb._hash=this._hash.clone();return eb}});e.MD5=d9._createHelper(d1);e.HmacMD5=d9._createHmacHelper(d1)})(Math);var ac=function(){return cL[bd()(99,111,111,107,105,101)]};var r=function(){du();var e={c:ao()};return dG(JSON.stringify(e))};var ax=function(){var e=dh();return(e===dT||e===null)?al:e};var ao=function(){var e=[];for(var d1 in J.cookies){if(!Object.prototype.hasOwnProperty.call(J.cookies,d1)){continue}e.push(d1+"="+J.cookies[d1])}return e.join("; ")};var du=function(){var e=bj();for(var d1 in e){if(!Object.prototype.hasOwnProperty.call(e,d1)){continue}J.cookies[d1]=e[d1]}};var aQ=function(e){aX(bf,e,a7());J.source.marker=e};var bq=function(){return cB(bf)};var a4=function(){c1(cC.roistat.page.params,function(d1,e){J.pageParams[d1]=e})};var bj=function(){var d3=ac();var d4=d3.split("; ");var e={};for(var d2=0;d2<d4.length;d2++){var d7=d4[d2];if(d7===""){continue}var d1=d7.split("=");if(d1.length<2){continue}var d6=d1[0].trim();var d5=d1[1].trim();e[d6]=d5}return e};var dc=function(){return bd()(104,97,115,104)};var aR=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var dt={isAvailable:function(){var d1=false;try{if(!cC.sessionStorage||!cC.sessionStorage.setItem||!cC.sessionStorage.getItem||!cC.sessionStorage.removeItem){return d1}cC.sessionStorage.setItem("roistat_testKey","testValue");d1=cC.sessionStorage.getItem("roistat_testKey")==="testValue";cC.sessionStorage.removeItem("roistat_testKey")}catch(d2){return false}return d1},remove:function(e){if(this.isAvailable()){cC.sessionStorage.removeItem(df(e))}},setObject:function(e,d1){if(this.isAvailable()){cC.sessionStorage.setItem(df(e),JSON.stringify(d1))}},getObject:function(d1){var e=null;if(this.isAvailable()){e=cC.sessionStorage.getItem(df(d1));e=JSON.parse(e)}return e},set:function(e,d1){if(this.isAvailable()){cC.sessionStorage.setItem(df(e),d1)}},get:function(d1){var e=null;if(this.isAvailable()){e=cC.sessionStorage.getItem(df(d1))}return e}};var aT={fallbackData:{},isAvailable:function(){var d1=false;try{if(!cC.localStorage||!cC.localStorage.setItem||!cC.localStorage.getItem||!cC.localStorage.removeItem){return d1}cC.localStorage.setItem("roistat_testKey","testValue");d1=cC.localStorage.getItem("roistat_testKey")==="testValue";cC.localStorage.removeItem("roistat_testKey")}catch(d2){return false}return d1},remove:function(d1){if(this.isAvailable()){cC.localStorage.removeItem(df(d1))}else{var e=new Date(1970,1,1);aX(d1,"",{expires:e.toUTCString()})}delete this.fallbackData[df(d1)]},setObject:function(e,d1){if(this.isAvailable()){localStorage.setItem(df(e),JSON.stringify(d1))}this.fallbackData[df(e)]=d1},getObject:function(d2){var e=null;if(this.isAvailable()){e=localStorage.getItem(df(d2));e=a5(e)}if(e===null){var d1=this.fallbackData[df(d2)];if(typeof d1!=="undefined"){e=d1}}return e},set:function(e,d1){if(this.isAvailable()){localStorage.setItem(df(e),d1)}else{if(this.isSaveInCookieEnabled()){aX(e,d1,L)}}this.fallbackData[df(e)]=d1},save:function(d1,d2,e){if(this.isAvailable()){localStorage.setItem(df(d1),d2)}aX(d1,d2,e);this.fallbackData[df(d1)]=d2},get:function(d1){var e=null;if(this.isAvailable()){e=localStorage.getItem(df(d1))}if(e===null){e=cB(d1)}if(typeof e==="undefined"){e=this.fallbackData[df(d1)]}return e},isSaveInCookieEnabled:function(){return this.get(u)>0},isExternalCountersEnabled:function(){return this.get(G)>0}};var cY=function(){return !ag(cL.referrer)?cL.referrer:null};var aJ=function(e){return typeof e==="function"};var p=function(e){return typeof e==="object"};var cG=function(e){return typeof e==="string"};var co=function(d3,d2){d2=typeof d2!=="undefined"?d2:false;var d4=function(d7){var d6=null;var d8=new RegExp("[#&?]("+d3+"=[^#&?]+)");if(d8.test(d7)){d6=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var d5=bK(d6);return d6&&d5?d5:d6};var e=d4(k);if(d2){var d1=cL.referrer;if(e===null&&d1){e=d4(d1)}}return e};var bM=function(d1,d2){var e=false;if(d1&&d2){e=d1.split(d2).join("")!==d1}return e};if(co(ce)==="1"||bj()[ce]==="1"){aM=true}var Y=function(){return true};var aG=function(){return Y()?cC.roistatMultiWidgetOnly:cC.roistatOnlineChatOnly};var cH=function(){var d1=dq()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||dq()==="4";var e=(cC.location.host==="cloud.roistat.com"||cC.location.host==="cloud-eu.roistat.com")&&cC.location.pathname!=="/user/login"&&cC.location.pathname!=="/user/register";
if(d1&&!e){bO("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var cI=function(){if("https:"===cL.location.protocol){return"https:"}else{return"http:"}};var bP=function(d1){var e=cL.createElement("img");e.src=d1;bO("sendRequestByUrl: "+d1)};var c5=function(d1,d3){bO("sendApiRequestJSONP: init with url "+d1);var e=cL.createElement("script");e.onload=e.onreadystatechange=function(){var d4=this.readyState?this.readyState:"unknown";bO("sendApiRequestJSONP: script state changed to "+d4)};e.src=d1;if(d3){e.setAttribute("data-roistat-script-id",d3)}e.type="text/javascript";e.async=true;var d2=cL.getElementsByTagName("script")[0];d2.parentNode.insertBefore(e,d2);bO("sendApiRequestJSONP: script appended")};var bQ=function(){if(J.isCssLoaded){return}(function(){var d1=cL.createElement("link"),e=cL.getElementsByTagName("head");d1.setAttribute("rel","stylesheet");d1.setAttribute("href",cI()+"//"+b1+"/dist/module.css?"+cX);if(e.length>0){J.isCssLoaded=true;e[0].appendChild(d1)}})()};var m=function(){return at()||D()};var at=function(){return dF()!==null};var D=function(){return cJ()!==null};var dj=function(){var e=K();if(e!==null){aX(aW,e,a7())}};var K=function(){return dF()||cJ()||null};var dF=function(){return co("roistat_visit")};var cJ=function(){return J.visitFromUser};var ct=function(d1,e){if(!e&&(J.isSettingsUpdating||!cL.hasFocus())){bO("Already updating settings or document not in focus, return");return}var d2=bR()+"/get-settings?v="+cX+"&visit="+d1;bO("Request new settings");J.isSettingsUpdating=true;c5(d2)};var dk=function(){return aT.get(dg)>0};var di=function(){aT.set(dg,1)};var aB=function(){aT.remove(c2);aT.remove(bA);aT.remove(b9);aT.remove(l);aT.remove(bc);aT.remove(bC);aT.remove(f);aT.remove(H)};var db=function(){var d4=function(){return aT.get(q)};var d3=function(){aT.set(q,bv)};var d1=function(){return typeof d4()==="string"};var e=function(){var d5=Number(d4())>bv;bO("Settings Version: settings version change status - "+d5);return d5};var d2=function(){var d5=1000*60*60*24;var d8=cM();var d7=cz()-d8;var d6=d7>d5;bO("Settings Version:: expiration day check: lastUpdateTime="+d8+", _lastUpdateTimeDiff="+d7+", _oneDayDiffInMs="+d5+", result="+(d6?1:0));return d6};if(!d1()){bO("Settings Version: set settings version up to 1");d3()}if(d2()||e()){bO("Settings Version: clear settings");aB()}};var bD=function(){bO("Call: Init");bO("Counter version: "+cX);if(co("roistat_ab_demo")==="1"){bO("Roistat initialisation rejected: ab test preview mode");return}az();dB();if((!bu()||cv())&&!aG()){dp=true;dW()}else{db();dj();var e=dh();aF();W();aw();roistat.visit=e;J.source.marker=bq();cC.roistat.geo=aT.getObject(cD);var d1=aT.isAvailable()&&dk();if(!d1){ct(e)}else{dY()}}aj(b6);aj(aL)};var b6=function(){bO("InitExternalCounter");if(!aT.isExternalCountersEnabled()){bO("ExternalCounters is not available, return");return}var d2=dq();var d1=bS();var d5=d1?d1:dh();var d4=d2+":"+d5;var e=d2+":"+aA.MD5(dO(cL.domain)).toString();var d3=function(d8,d6){var d7=(cL.location.protocol==="https:"?"https:":"http:")+"//tech.rtb.mts.ru/roistat?landing="+d6+"&event_type=view&user_id="+d8;var d9=new XMLHttpRequest;d9.open("GET",d7,true);d9.withCredentials=true;d9.onload=function(){if(d9.readyState===4){if(d9.status!==204){console.error(d9.statusText)}}};d9.onerror=function(){console.error(d9.statusText)};d9.send(null)};d3(d4,e);bO("InitExternalCounter: script appended")};var S=function(d2){if(!d2.isEnabled){return true}var e=new Date();var d9=new Date().toISOString();var d6=e.getUTCDay()===0?7:e.getDay();var d7=d6===6||d6===7;var d8=false;for(var d4=0;d4<d2.days.length;d4++){if(d6===d2.days[d4]){d8=true}}if(!d8){return false}if(d7&&d2.weekendsTime!==null){var ea=new Date(d2.weekendsTime.from).toISOString();var d3=new Date(d2.weekendsTime.to).toISOString();return d9>=ea&&d9<=d3}var d5=new Date(d2.weekdaysTime.from).toISOString();var d1=new Date(d2.weekdaysTime.to).toISOString();return d9>=d5&&d9<=d1};var az=function(){bO("Call: initMarker");dR=cm();bO("Call: inited marker: "+dR)};var dB=function(){bO("Call: initReferrer");aK=cY();bO("Call: end initReferrer: "+aK)};var aL=function(){bO("Call: parsing roistat params from url");var d3={};for(var d2=1;d2<=b8;d2++){var d1="roistat_param"+d2;d3[d1]=co(d1,false)}var e=dA(d3);if(z(e)&&Object.keys(e).length>0){M(e)}bO("Call: end parsing roistat params from url")};var ag=function(d2){if(!d2){return true}var e=dO(d2);var d1=dO(cL.domain);if(e===d1){return true}var d3=bJ();if(d3===null){return false}if(bM(e,d3)&&bM(d1,d3)){return true}return false};var bJ=function(){if(typeof L.domain==="string"&&L.domain!==""){return dO(L.domain)}return null};var dO=function(e){var d1=e.split("http://").join("").split("https://").join("").split("www.").join("").replace(/^\./,"");return d1.split("/")[0]};var cm=function(){var d2=cB(a0)>0;var d7=null;var e=function(d8){return d8.split("_").join(":u:")};var d3=function(){var d8=false;var d9;d9=co(be,d2);if(d9!==null){d7=d9;
d8=true}d9=co(br,d2);if(d9!==null){d7=d9;d8=true}return d8};var d6=function(){var d8=false;var d9=bq();if(d9){d7=d9;d8=true;aq=false}return d8};var d1=function(){var d8=false;var ea=co("utm_source",d2);if(ea!==null){d8=true;d7=":utm:"+e(ea);var ec=["utm_medium","utm_campaign","utm_content","utm_term"];var d9;for(var eb=0;eb<ec.length;eb++){d9=co(ec[eb],d2);if(d9!==null){d7=d7+"_"+e(d9)}}}return d8};var d5=function(){var ea,d9,d8=false;d9=co("_openstat",d2);if(!d9){return false}if(d4(d9)){ea=d9}else{ea=encodeURI(a9.decode(d9));if(!d4(ea)){ea=d9}}if(ea){ea=e(ea).split(";").join("_");d7=":openstat:"+ea;d8=true}return d8};var d4=function(d8){return d8.match(/^([^;]*(;[^;]*){3})$/)!==null};if(d3()){bO("Init marker: init from RS param "+d7);return d7}if(d1()){bO("Init marker: init from UTM "+d7);return d7}if(d5()){bO("Init marker: init from OpenStat "+d7);return d7}bO("Init marker: try init from cookie "+d7);d6();return d7};var dh=function(){return aT.get(aW)};var bS=function(){return aT.get(bV)};var cV=function(){bO("Call: saveReferrer");aT.set(ab,aK)};var dI=function(){bO("Call: removeReferrer");aT.remove(ab)};var aO=function(){aX(dP,bK(dR),a7())};var aw=function(){bO("Call: refreshPromoCode");if(aG()){bO("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return cB(aW)};by(e());if(!cC.onload){cC.onload=function(){by(e())}}setTimeout(function(){by(e())},50);setTimeout(function(){by(e())},200);setTimeout(function(){by(e())},2000);setTimeout(function(){by(e())},10000)};cC.roistatPromoCodeRefresh=aw;var cf=function(){var e=[];var d1=cL.getElementsByClassName(cA);if(d1&&d1.length){e=d1}return e};var by=function(e){var d3=cf();bO("setPromoCode: "+e+" in "+d3.length+" elements");for(var d2=0;d2<d3.length;d2++){var d1=d3[d2];d1.innerHTML=e?e:""}};var cT=function(){var d2=cm(),d1=cB(dP),d4=d2!==null,d3=true;var d6=bK(bK(d2)).toLowerCase().split("+").join(" "),d5=bK(bK(d1)).toLowerCase().split("+").join(" ");if(d2&&d1){d3=d6!==d5}var e=d4&&d3;cl="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+d2+":"+d6+" and old "+d1+":"+d5;bO(cl);return e};var bi=function(){var d1=function(d9){return/[\u0400-\u04FF]/.test(d9)};var d8=false,d5=aK,e=aT.get(ab),d7=cC.location.host;if(!d5||!d7){bO("Call: needOverrideByReferrer (result "+(d8?"true":"false")+"), skip because one of params is empty");return d8}d7=dO(d7);d5=bK(d5);e=bK(e);var d3=dO(d5);if(bM(d5,"xn--")&&d1(d7)){bO("Call: needOverrideByReferrer (result "+(d8?"true":"false")+"), skip because of bugs with punycode in FF");return d8}if(!d3){bO("Call: needOverrideByReferrer (result "+(d8?"true":"false")+"), skip because current referrer is null");return d8}if(!e){d8=!bM(d3,d7);bO("Call: needOverrideByReferrer (result "+(d8?"true":"false")+"), compare current referrer and host");return d8}if(bM(d5,e)){bO("Call: needOverrideByReferrer (result "+(d8?"true":"false")+"), skip because the same referrer");return d8}var d6=d7.split(".").length>2&&d3.split(".").length>2;var d4=cC.roistatCookieDomain!==dT&&cC.roistatCookieDomain!==d7;var d2=d3.split(".").slice(1).join(".")===d7.split(".").slice(1).join(".");if(d6&&d4&&d2){bO("Call: needOverrideByReferrer (result "+(d8?"true":"false")+"), skip because sub domains of same domain");return d8}d8=!(bM(d3,d7)||(bM(d7,d3)));bO("Call: needOverrideByReferrer (result "+(d8?"true":"false")+") referrerHost: "+d3+", currentHost: "+d7);return d8};var cq=function(){return co("utm_nooverride")==="1"};var cv=function(){return !m()&&!cq()&&(cT()||bi())};var bw=function(d1,e){return(d1&&e&&d1!=e)};var E=function(d3){var d1=["cookieExpire"];var d5=d3.leadHunterEnabled;if(Number(aT.get(ch))!==Number(d3.leadHunterEnabled)){aT.set(ch,Number(d3.leadHunterEnabled))}if(d5){var d4={expires:c3,path:"/"};if(L.domain){d4.domain=L.domain}aX(cr,1,d4)}for(var d2 in d3){if(!Object.prototype.hasOwnProperty.call(d3,d2)){continue}if(!d5&&d2.indexOf("leadHunter")>=0&&d2.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!au(d1,d2)){if(d2.indexOf("leadHunterTargetPagesMap")!==-1){var e=a5(d3[d2]);if(e!==null){aT.setObject("roistat_"+d2,e)}continue}aT.set("roistat_"+d2,d3[d2])}}};var dQ=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};if(Number(aT.get(bN))!==Number(e.is_enabled)){aT.set(bN,Number(e.is_enabled))}if(Number(aT.get(n))!==Number(e.vk.is_enabled)){aT.set(n,Number(e.vk.is_enabled))}if(aT.get(w)!==roistat.multiwidget.vk.link){aT.set(w,roistat.multiwidget.vk.link)}if(Number(aT.get(U))!==Number(e.fb.is_enabled)){aT.set(U,Number(e.fb.is_enabled))
}if(aT.get(cP)!==roistat.multiwidget.fb.link){aT.set(cP,roistat.multiwidget.fb.link)}if(Number(aT.get(a8))!==e.telegram.is_enabled){aT.set(a8,Number(e.telegram.is_enabled))}if(aT.get(dJ)!==roistat.multiwidget.telegram.link){aT.set(dJ,roistat.multiwidget.telegram.link)}if(Number(aT.get(cg))!==e.whats_app.is_enabled){aT.set(cg,Number(e.whats_app.is_enabled))}if(aT.get(aV)!==roistat.multiwidget.whatsApp.link){aT.set(aV,roistat.multiwidget.whatsApp.link)}if(Number(aT.get(a))!==e.viber.is_enabled){aT.set(a,Number(e.viber.is_enabled))}if(aT.get(b0)!==roistat.multiwidget.viber.link){aT.set(b0,roistat.multiwidget.viber.link)}aT.setObject(cS,e)};var an=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(aT.get(bC))!==Number(e.is_enabled)){aT.set(bC,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;aT.setObject(aU,e.advanced_settings)};var cQ=function(e){cC.roistat.geo=e;aT.setObject(cD,e)};var ai=function(e){bO("PromoCode: save settings");aT.setObject(bz,e)};var B=function(e){if(dH){bO("LinksMarkup: save settings");aT.setObject(bh,e)}};var am=function(d3,d2,d7,d5,e,d6,d4,d8,d1){E(d3);roistat.callTracking.enabled=d2.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=d7.email;roistat.emailtracking.trackingEmail=d7.trackingEmail;roistat.emailtracking.emails=d7.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=e;dQ(d6);an(d4);cQ(d5);ai(d8);B(d1)};cC.roistatModuleSetVisitCookie=function(d6,ee,d4,d1,ed,d9,e,eg,d8,ef,d2){bO("Call: roistatModuleSetVisitCookie("+d6+")");var ea;if(typeof d4.cookieExpire!=="number"){ea=a7().expires}else{ea=d4.cookieExpire}var d7=cB(aW);var ec={expires:ea,path:"/"};if(L.domain){ec.domain=L.domain}aT.save(aW,d6,ec);if(!aT.get(bV)){var d3={expires:10*365*24*60*60,path:"/"};if(L.domain){d3.domain=L.domain}aT.save(bV,d6,d3)}var eb=d4.abTests;if((typeof eb!=="undefined")&&aT.isAvailable()){aT.setObject("abTesting",eb)}applyTests();var d5=d4.isNeedToListenRequests;if((typeof d5!=="undefined")&&aT.isAvailable()){aT.set(dZ,d5)}by(d6);if(ee){aQ(ee);aX(dP,ee,ec)}if(cC.roistatCallback!==dT){cC.roistatCallback(d6,ee)}if(!eg){eg={}}am(d4,d1,ed,d9,e,eg.multiwidget_settings,d8,ef,d2);roistat.callTracking.phone=d1.phone;roistat.callTracking.sessionTime=d1.sessionTime;roistat.callTracking.replacementClasses=d1.replacementClasses;roistat.callTracking.phoneScriptsJson=d1.scripts;roistat.callTracking.rawPhone=d1.raw_phone;roistat.visit=d6;bO("Call: pre renderPromoCode");W();aw();if(bw(d7,d6)){bO("roistatModuleSetVisitCookie: visit changed from "+d7+" to "+d6)}cj();di();dY()};cC.roistatUpdateSettings=function(e){bO("Set settings.");J.isSettingsUpdating=false;am(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code,e.links_markup);di();dY()};var bu=function(){var e;if(cC.roistatIsInitVisit===true){e=false}else{e=aT.get(aW)>0}bO("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var cE=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var cF=function(){return aK?cE(aK):""};var bR=function(){return cI()+"//"+b1+"/api/site/"+c+"/"+dq()};var bX=function(){var d1={expires:1,path:"/"};var e={expires:ap,path:"/"};if(L.domain){d1.domain=L.domain;e.domain=L.domain}var d2=cB(bk);if(d2){aX(F,d2,e)}aX(bk,"",d1);aX(dD,"",d1)};var ck=function(){var d1=aT.getObject("abTesting");if(!p(d1)){return""}var d3,d2,e=[];for(d3 in d1){if(!Object.prototype.hasOwnProperty.call(d1,d3)){continue}d2=d1[d3];e.push(d2.id+":"+d2.variantId)}return e.join(",")};var dW=function(){bO("Call: setVisitIdCookie");var d1=function(){var ec=cF(),d7=cC.roistatIsInitVisit===true?dh():0,ef=cB(bk),ea=cB(bT),d5=aT.get(bV);ef=ef?ef:"";d5=d5?d5:"";dR=dR&&(!bi()||aq)?bK(bK(dR)):"";var eb=encodeURIComponent(k);bO("Calltracking: enabled="+I.callTrackingEnabled+",manual="+I.callTrackingManual);var ed=JSON.stringify(cC.roistat.page.params);var d9=ar();var d4="";for(var d8 in d9){if(!d9.hasOwnProperty(d8)){continue}var ee=d9[d8];if(ee!==null){d4+="&"+d8+"="+encodeURIComponent(ee)}}var d6=bR()+"/addVisit?v="+cX+"&marker="+encodeURIComponent(dR)+"&visit="+d7+"&first_visit="+d5+"&guid="+ea+"&phone_prefix="+b+"&phone_prefix_bind="+aE+"&phone_scripts_bind="+cs+"&referrer="+ec+"&page="+eb+"&ab="+cE(ef)+"&ab_variants="+cE(ck())+"&"+dc()+"="+r()+(ed==="{}"?"":"&page_params="+encodeURIComponent(ed))+((!I.callTrackingEnabled||I.callTrackingManual)?"&call_tracking_disabled=1":"")+d4;return d6};var e=function(d4){setTimeout(function(){bO("Call: setVisitIdCookie script creation after timeout");var d5=cL.createElement("script");d5.onload=function(){bO("Call: setVisitIdCookie script loaded")};d5.src=d4;d5.type="text/javascript";d5.async=true;d5.id=b4;var d6=cL.getElementsByTagName("script")[0];d6.parentNode.insertBefore(d5,d6);bO("Call: setVisitIdCookie appended "+((cL.getElementById(b4))?"true":"false"));
bO("Call: sendJSONPRequest to URL "+d4);bX()},I.jsonpRequestTimeout)};if(dR){aQ(dR);aO()}var d3=cB(O);if(d3){aX(bT,d3,L)}ca();var d2=d1();e(d2);aK?cV():dI()};var aF=function(){bO("Call: sendAbTests");var d2=function(){var d6=dq(),d5=cB(aW);return cI()+"//"+b1+"/site-api/"+bl+"/"+d6+"/visit/"+d5+"/addAbVariant"};var d3=cB(bk);var d1=cB(F);if(d3===d1||!d3){bX();return}var d4=d2();d4=d4+"?ab="+cE(d3);var e=cL.createElement("img");e.src=d4;bX()};var c9={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(c9.Android()||c9.BlackBerry()||c9.iOS()||c9.Opera()||c9.Windows())}};var bp={isIE:function(d2,d4){var d5="IE",d1=cL.createElement("B"),e=cL.documentElement,d3;if(d2){d5+=" "+d2;if(d4){d5=d4+" "+d5}}d1.innerHTML="<!--[if "+d5+']><b id="iecctest"></b><![endif]-->';e.appendChild(d1);d3=!!cL.getElementById("iecctest");e.removeChild(d1);return d3},isSafari:function(){var e=cC.navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")}};var cM=function(){return aT.get(cc)};var dn=function(){var e="";cC.onerror=function(d6,d5,d2,d4,d3){var d1=!d4?"":", column: "+d4;d1+=!d3?"":", error: "+d3;e=e+", Error: "+d6+", url: "+d5+", line: "+d2+d1};setTimeout(function(){var d8=false,d9="";var d4=cf();for(var d7=0;d7<d4.length;d7++){var d3=d4[d7];if(d3!==null&&!d3.innerHTML){d8=true;d9="Promo HTML: "+d3.innerHTML}}if(!(cB(aW)>0)){d8=true;d9=d9+"; roistat_visit = "+cB(aW)}if(d8){var d2=cL.getElementById(b4);var d1=d2?1:0;var d5=cC.navigator.userAgent;d9=encodeURIComponent(d9);var d6=cL.createElement("img");d6.src=cI()+"//"+b1+"/site-api/"+bl+"/"+dq()+"/debug?message="+d9+"&agent="+d5+"&"+dc()+"="+r()+"&jserror="+e+"&scriptResponse="+d1+"&version="+cX+"&debug="+s}},20000)};var cb=function(){var d2=cL.getElementsByTagName("body");var d3=cL.documentElement;var d1=0,d4=0;if(d2.length){var e=d2[0];d1=cC.innerWidth||d3.clientWidth||e.clientWidth;d4=cC.innerHeight||d3.clientHeight||e.clientHeight}else{d1=cC.innerWidth||d3.clientWidth;d4=cC.innerHeight||d3.clientHeight}return{width:d1,height:d4}};var W=function(){var d6=cL.getElementsByClassName("roistat-promo-wrap");if(d6.length){bO("PromoCode: old promo code length - exit");return}if(aG()){bO("PromoCode: Shut down because only online chat need to be inited");return}var d5=aT.getObject(bz);if(d5&&d5.hasOwnProperty("is_enabled")){cC.roistat.promoCode.isEnabled=d5.is_enabled;bO("PromoCode: set is_enabled from storage")}var d3=function(){var ed=cL.createElement("div");ed.innerHTML=roistatPromoCode;var eb=cL.getElementsByTagName("body");if(eb.length){eb[0].appendChild(ed)}bO("PromoCode: appended to body "+roistatPromoCode.length);var ec=cL.getElementsByClassName("roistat-promo-wrap")[0];if(!ec){bO("PromoCode: roistat-promo-wrap not found, skip");return}var ea=ec.style;var d8,d9,d7;setInterval(function(){d8=cb();d9=ec.offsetWidth;d7=ec.offsetHeight*2;switch(roistatPosition){case"top_left":ea.left=0;ea.top=0;break;case"top":ea.left=((d8.width-d9)/2)+"px";ea.top=0;break;case"top_right":ea.right=0;ea.top=0;break;case"left":ea.left=0;ea.top=((d8.height-d7)/2)+"px";break;case"right":ea.right=0;ea.top=((d8.height-d7)/2)+"px";break;case"bottom_left":ea.left=0;ea.bottom=0;break;case"bottom":ea.left=((d8.width-d9)/2)+"px";ea.bottom=0;break;case"bottom_right":ea.right=0;ea.bottom=0;break;default:ea.left=0;ea.top=0}},500)};var e=aT.getObject("promo_code_options");if(e){bO("PromoCode: options already set");cC.roistatPromoCode=e.template;cC.roistatPosition=e.position;d3()}else{if(!cC.roistat.promoCode.isEnabled){bO("PromoCode: is not available, skip");return}var d4=cL.getElementsByTagName("head")[0]||cL.documentElement;var d2=cL.createElement("script");d2.src=cI()+"//"+b1+"/site-api/"+bl+"/"+dq()+"/getPromoCode";d4.insertBefore(d2,d4.firstChild);bO("PromoCode: loading started");var d1=false;d2.onload=d2.onreadystatechange=function(){if(!d1&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){d1=true;d2.onload=d2.onreadystatechange=null;if(d4&&d2.parentNode){d4.removeChild(d2)}}if(!d1){return}bO("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){bO("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};aT.setObject("promo_code_options",e);d3()}}};var au=function(d1,d2){for(var e=0;e<d1.length;e++){if(d1[e]===d2){return true}}return false};var dC=function(d1){if(!ak||d1===""){return}var e=dh();bb("visit: "+e+" "+d1)};var bb=function(d1){var e=bR()+"/log?log="+encodeURIComponent(d1);c5(e)};var dU=function dU(){var d4=cC.onpopstate;var d5=cC.history.pushState;var e=cC.history.replaceState;cu(cC,"popstate",function d3(d6){bO("[Roistat]: popstate event catch");cR();if(b5()&&typeof d4==="function"){d4(d6)
}});cu(cC.history,"pushState",function d2(d7,d8,d6){bO("[Roistat]: pushState event catch");cR();if(b5()&&typeof d5==="function"){d5.apply(this,[d7,d8,d6])}});cu(cC.history,"replaceState",function d1(d7,d8,d6){bO("[Roistat]: replaceState event catch");cR();if(b5()&&typeof e==="function"){e.apply(this,[d7,d8,d6])}})};(function P(){dU();if(cC.onRoistatModuleLoaded!==dT&&typeof cC.onRoistatModuleLoaded==="function"){cC.onRoistatModuleLoaded()}})();(function X(){var d1="fngr.roistat.com";var d4=false;if(!d4){bO("Fingerprint: disabled");return}cC.roistat.crossdevice={registerFingerprint:function d2(d5){bO("Fingerprint: collected data "+JSON.stringify(d5));roistat.registerOnVisitProcessedCallback(function(){bO("Fingerprint: sending to service");var d6=Object.keys(d5).map(function(d8){return d5[d8].key+"="+encodeURIComponent(d5[d8].data)}).join("&");d6=d6+"&visit="+dq()+"|"+bS()+"|"+roistat.getVisit();d6+="&host="+encodeURIComponent(cC.location.host);var d7=cI()+"//"+d1+"/register?"+d6;c5(d7)})},markVisit:function e(d5){bO("Fingerprint: marking visit "+d5)}};bO("Fingerprint: initialising library");var d3=cI()+"//"+d1+"/static/fingerprint.js";c5(d3)})();var cy=function(d1){var d6=function(ed,eb){var ea;if(bM(eb,"*")){var ec=new RegExp(eb.split("*").join(".*"));ea=ec.test(ed)}else{ea=ed===eb}bO("LeadHunter: compare current: "+ed+", setting: "+eb+" with result = "+(ea?1:0));return ea};var e=cC.location.href,d3=false,d2=false,d8="",d4=0,d7;d7=d1?d1.split(","):[];if(!e||d7.length===0){d3=true}else{d8=aR(e);var d9;for(var d5=0;d5<d7.length;d5++){d9=d7[d5].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(d9)){if(d6(d8,d9.split(/^!/).join(""))){d2=true;break}}else{d4++;if(d6(d8,d9)){d3=true;break}}}}if(d2){bO('LeadHunter: current page "'+d8+'" is disabled by list');return false}if(!d3&&d4>0){bO('LeadHunter: current page "'+d8+'" is not listed');return false}bO('LeadHunter: current page "'+e+'", cleaned: "'+d8+'" is not disabled in '+d7.length+" list of pages");return true};try{bD()}catch(dv){dC(dv)}(function i(){var eq="empty",d7=false,d1=true,eh=false;var em={roistat_visit:cB(aW),marker:dR,user_agent:cC.navigator.userAgent,current_page:{title:cL.title,href:cC.location.protocol+"//"+cC.location.host+cC.location.pathname}};var er=function(ex,ew,ev){if(ex.addEventListener){ex.addEventListener(ew,ev,false)}else{if(ex.attachEvent){ex.attachEvent("on"+ew,ev)}else{bO("Handler could not be attached")}}};var ej=function(ex,ev){if(ex===dT||typeof ev!=="string"||ev.length===0){return}var ew=ex.getElementsByClassName(ev);if(ew===dT||ew.length===0){return}return ew[0]};var es=function(ev){return typeof ev==="object"&&ev!==null};var d8=function(ev,ex,ew){if(es(ev)){if(ew){ev.classList.add(ex);return}ev.classList.remove(ex)}};var et=cC.visualViewport;var eg="visualViewport" in cC;var ek=function(ev){return(ev===0)?1:ev};var eu=function(){var ev;if(eg){ev=1/ek(et.scale)}else{ev=cC.innerWidth/ek(cC.outerWidth)}return ev};var eo=function(){if(aI()){return"none"}return"scale("+eu()+")"};var d6=function(){if(!aI()){return"none"}return"scale("+eu()+")"};var en={leadHunter:function(){var gg="roistat-lh-form",eS="roistat-lh-form",gi="roistat-lh-head-text",e6="roistat-lh-head",eP="roistat-lh-thank-you",fx="roistat-lh-thank-you",eA="roistat-lh-close",eB="roistat-lh-submit",ff="roistat-lh-hidden",fW="roistat-lh-wrap",eU="roistat-lh-popup-wrapper",fw="roistat-lh-popup",gh="roistat-lh-agreement",fs="roistat-lh-agreement roistat-lh-mobile",gw="roistat-lh-agreement-input",f7="roistat-lh-agreement-link",ev="roistat-lh-agreement-doc",gc="roistat-lh-alert-row",fE="roistat-lh-agreement",fr="roistat-lh-popup-iframe",fH="roistat_leadHunterUrl",f9="roistat_leadHunterAppearanceUrl",fj="roistat_leadHunterTargetPagesList",eO="roistat_leadHunterCaught",fO="roistat_leadHunterMinTime",fa="roistat_leadHunterAutoShowTime",fL="roistat_leadHunterPulsatorEnabled",e4="roistat_leadHunterScriptsCaught",gx="roistat_leadHunterScriptsShownCount",fp="roistat-lh-load-done",eT="roistat-lh-close-modal",fY="roistat-lh-script-settings",fX="roistat-lh-setting-size",gd="roistat-lh-before-submit",fI="roistat-lh-before-submit-done",gk="roistat-lh-after-submit",f1="roistat-lh-event-data",f2="roistat-lh-translate-form",gt={topLeft:{bottom:"80%",right:"auto",transformOrigin:"top left"},topRight:{bottom:"80%",right:"3%",transformOrigin:"top right"},bottomRight:{bottom:"10%",right:"3%",transformOrigin:"bottom right"},bottomLeft:{bottom:"10%",right:"auto",transformOrigin:"bottom left"}};var eN=0.3,eY=0.001,eQ=false,e1=0,eW=0,e2=0,gl=0,e0=0,fg=false,eF=false,gv=false,eZ,gb,fz,fF,fV,e5,gu,gp,f8,gs,eJ,gm,fS,fA,fq,eM,ey,fe,e3,fb,f5,ge,e8,fi;var go={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var gj=function(gC){var gB=encodeURIComponent?encodeURIComponent:encodeURI;return gB(gC)};var f0=function(){if(!cC.roistat.leadHunter.isEnabled){return false}if(cC.roistatLeadHunterInited){return false}cC.roistatLeadHunterInited=true;
if(aT.get(ch)<1){bO("LeadHunter: disabled");return false}return true};var fd=function(){ey=aT.get(fH);if(!ey){bO("LeadHunter: not active cause of empty url");return false}bQ();fe=aT.get(f9);gl=aT.get(fO);e0=cC.roistat.leadHunter.form.autoShowTime===null?aT.get(fa):cC.roistat.leadHunter.form.autoShowTime;d7=aT.get(fL)==1;ex();bO("LeadHunter: initSettings end, isLeadHunterPulsatorEnabled: "+(d7?1:0));return true};var fl=function(){if(cn){return fT()||eX()}return aT.get(eO)>0};var ex=function(){if(!(cB(cr)>0)){bO("LeadHunter: not active, expired for this visit");fg=true}};var eG=function(gB){gv=true;fb=f5.src;var gC={version:cX,additionalNotifyEmail:cC.roistat.leadHunter.additionalNotifyEmail,projectKey:dq(),language:dm,visitId:ax(),moduleTargetOrigin:cC.location.origin,referrer:cC.location.href,windowWidth:cC.innerWidth||0,iframeWrapperWidth:fF.offsetWidth||0,sendRequestUrl:aT.get(fH),message:fp};f5.contentWindow.postMessage(gC,fb);fN();if(gB&&cy(aT.get(fj))){bO("iframe fired, rise up iframe show count state");ez()}};var fo=function(){eF=true;eE("click");eG();fU()};var eD=function(){var gB=cC.location.hash;if(!gB){return}if(bM(gB,"roistat-lead-hunter")){fo()}};var fm=function eL(){bO("LeadHunter: binding timeout");if(fg){bO("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(eQ){bO("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(e0>0){var gB=(e1-cz())+e0*1000;bO("LeadHunter: binding timeout with delay "+gB+" ms");clearTimeout(go.timeoutId);go.timeoutId=setTimeout(function(){bO("LeadHunter: form auto activate with autoTime = "+e0);if(cn&&fl()){return}if(!eQ){bO("LeadHunter: show by timeout");eF=true;eE("auto");eG(true);fU()}},gB)}else{clearTimeout(go.timeoutId);bO("LeadHunter: auto show time is not positive, feature disabled")}};var ga=function(){f8.onclick=fV.onclick=fC;gs.onclick=fh;if(es(gm)){er(gm,"click",ft)}if(es(fS)){er(fS,"change",gz)}var gC=cL.getElementsByClassName("roistat-lh-input");if(Array.isArray(gC)){for(var gF=0;gF<gC.length;gF++){er(gC[gF],"keyup",function(gJ){gJ=gJ||event;var gI=(gJ.keyCode?gJ.keyCode:gJ.which);if(gI==13){fh()}})}}var gD=cC.onresize;cC.onresize=function(gI){if(gD){gD(gI)}gf(gI)};if(!fg){var gB=cL.onmouseout;cL.onmouseout=function(gI){if(gB){gB(gI)}fR(gI)}}if(d7&&!ef()&&es(eZ)){eZ.onmouseover=function(){dw(eZ,"roistat-lh-pulsator-hover")};eZ.onmouseout=function(){dE(eZ,"roistat-lh-pulsator-hover")};eZ.onclick=function(){fo()};cC.addEventListener("resize",function gH(){if(es(eZ)){eZ.style.transform=eo()}});if(eg){et.addEventListener("resize",function gG(){if(es(eZ)){eZ.style.transform=eo()}})}}var gE=cC.onhashchange;cC.onhashchange=function(){if(gE){gE.apply(this,arguments)}eD()}};var gr=function(){if(d7&&!ef()&&es(eZ)){eZ.onmouseover=function(){dw(eZ,"roistat-lh-pulsator-hover")};eZ.onmouseout=function(){dE(eZ,"roistat-lh-pulsator-hover")};eZ.onclick=function(){fo()};cC.addEventListener("resize",function gF(){eZ.style.transform=eo()});if(eg){et.addEventListener("resize",function gE(){if(es(eZ)){eZ.style.transform=eo()}})}}fV.onclick=fC;f5=cL.getElementById(fr);if(es(f5)){er(f5,"load",function(){eG();gn()})}var gC=cC.onresize;cC.onresize=function(gG){if(gC){gC(gG)}gf(gG)};if(!fg){var gB=cL.onmouseout;cL.onmouseout=function(gG){if(gB){gB(gG)}if(!cn){bO("ShowLimit: Beta Test off, check cursor usually");fR(gG)}else{bO("ShowLimit: check cursor by caught or max show limit");if(!fl()){bO("ShowLimit: Check cursor allowed");fR(gG,true)}}}}var gD=cC.onhashchange;cC.onhashchange=function(){if(gD){gD.apply(this,arguments)}eD()}};var fB=function(gC){var gB=cL.getElementsByClassName(gC);if(gB.length>0){return gB[0]}else{return null}};var fy=function(){var gE=fB("roistat-lh-title");if(es(gE)&&roistat.leadHunter.form.title){gE.innerHTML=roistat.leadHunter.form.title}var gC=fB("roistat-lh-sub-title");if(es(gC)&&roistat.leadHunter.form.subTitle){gC.innerHTML=roistat.leadHunter.form.subTitle}var gD=fB("roistat-lh-thank-you");if(es(gD)&&roistat.leadHunter.form.thankYouText){gD.innerHTML=roistat.leadHunter.form.thankYouText}var gG=fB("roistat-lh-submit");if(es(gG)&&roistat.leadHunter.form.buttonText){gG.value=roistat.leadHunter.form.buttonText}var gF=fB("roistat-lh-text-label-name");if(es(gF)&&roistat.leadHunter.form.nameLabel){gF.innerHTML=roistat.leadHunter.form.nameLabel}var gB=fB("roistat-lh-text-label-contact");if(es(gB)&&roistat.leadHunter.form.contactLabel){gB.innerHTML=roistat.leadHunter.form.contactLabel}};var eV=function(gC,gG,gF){if(cL.body===null){return}var gB;if(!gC){bO("LeadHunter: deactivating, empty form")}else{bO("LeadHunter: rendering hidden form")}fV=cL.createElement("div");fF=cL.createElement("div");fF.innerHTML=gC;fV.className=ff;fF.className=ff;bO("LeadHunter: processForm, isLeadHunterPulsatorEnabled: "+(d7?1:0));if(gG&&d7&&gF&&!ef()){var gD=typeof gF.position==="string"&&gF.position!==""?gF.position:"bottomRight";gB=cL.createElement("div");gB.innerHTML=gG;eZ=gB.childNodes.item(0);gb=eZ.childNodes.item(1);fz=eZ.childNodes.item(2).childNodes.item(0);
gb.setAttribute("style","background: "+gF.button.background+";");fz.setAttribute("style","fill: "+gF.button.color+";");eZ.setAttribute("style","bottom: "+gt[gD].bottom+";right:"+gt[gD].right+";");eZ.style.transformOrigin=gt[gD].transformOrigin;eZ.style.transform=eo();go.pulsator.previousClass=eZ.className;eZ.className=ff;cL.body.appendChild(eZ)}cL.body.appendChild(fV);cL.body.appendChild(fF);e5=cL.getElementById(e6);gu=cL.getElementById(eS);gp=cL.getElementById(fx);f8=cL.getElementById(eA);gs=cL.getElementById(eB);eJ=cL.getElementById(gh);fS=cL.getElementById(gw);gm=cL.getElementById(f7);fA=cL.getElementById(ev);fq=cL.getElementById(gc);eM=cL.getElementById(fE);var gE=fB(eU);e3=es(gE)&&gE.getAttribute("data-is-iframe");if(e3){gr()}else{fy();ga();eD();gn()}};var gq=function(gD){var gC=gD.button&&gD.button.background&&gD.button.color;if(!gC){return}aT.setObject(b9,fi);var gB=typeof gD.position==="string"&&gD.position!==""?gD.position:"bottomRight";if(es(gb)){gb.setAttribute("style","background: "+gD.button.background+";")}if(es(fz)){fz.setAttribute("style","fill: "+gD.button.color+";")}if(es(eZ)){eZ.setAttribute("style","bottom: "+gt[gB].bottom+";right:"+gt[gB].right+";");eZ.style.transformOrigin=gt[gB].transformOrigin;eZ.style.transform=eo()}};var eK=function(){var gB=aT.get(c2),gD=aT.get(bA),gC=aT.getObject(b9);if(gC!==null){eV(a9.decode(gB),a9.decode(gD),gC)}};var fk=function(){var gC=fF.clientWidth,gB=fF.clientHeight;if(es(fF)){fF.setAttribute("style",fF.getAttribute("style")+" width: "+gC+"px; height: "+gB+"px;")}if(es(gu)){gu.className=ff}if(es(e5)){e5.className=ff}if(es(eJ)){eJ.className=ff}if(es(gp)){gp.setAttribute("style","width: "+gC+"px; height: "+gB+"px; display: table-cell;");gp.className=eP}setTimeout(function(){bO("LeadHunter: close form after timeout");fC()},7000)};var fU=function(){var gC=Math.round((f6()-fF.clientHeight)/2);var gB=Math.round((gA()-fF.clientWidth)/2);if(es(fF)){fF.setAttribute("style","left: "+gB+"px; top: "+Math.max(0,gC)+"px;")}};var eE=function(gC){if(!cy(aT.get(fj))){return}if(cC.roistat.leadHunter.onBeforeAppear){bO("LeadHunter: process user defined onBeforeAppear");cC.roistat.leadHunter.onBeforeAppear(gC);if(e3){fN()}}if(es(fF)){fF.setAttribute("style","left:20px;top:-20px;opacity:0");fF.className=fw}if(es(fV)){fV.className=fW}if(es(gu)){gu.className=gg}if(es(e5)){e5.className=gi}if(es(eJ)){eJ.className=fs}if(es(gp)){gp.setAttribute("style","");gp.className=ff}if(es(fV)){fV.setAttribute("style","opacity:0;")}eQ=true;setTimeout(function(){fV.setAttribute("style","opacity:.5;")},10);var gD=cB(aW),gB=fe+"?visit_id="+gD+"&page="+g();bP(gB);if(cC.roistat.leadHunter.onAfterAppear){bO("LeadHunter: process user defined onAfterAppear");cC.roistat.leadHunter.onAfterAppear(gD,fV,fF,gu);if(e3){fN()}}};var fZ=function fD(){e1=cz();eK();bO("LeadHunter: form initialized")};var gn=function fn(){bO("LeadHunter: tuning appearance for page");if(!cy(aT.get(fj))||(aT.get(bx)&&!aT.get(ay))){bO("LeadHunter: disabled on page");go.leave.isShowEnabled=false;clearTimeout(go.timeoutId);if(ef()){d1=false;ec()}if(es(eZ)){eZ.className=ff}}else{bO("LeadHunter: enabled on page");if(!cn&&!fl()){bO("ShowLimit: Beta Test off, bindShowOnTimeout usually");go.leave.isShowEnabled=true;fm()}if(cn){bO("ShowLimit: bindShowOnTimeout by caught or max show limit");if(!fl()){bO("ShowLimit: bindShowOnTimeout allowed");go.leave.isShowEnabled=true;fm()}}if(es(eZ)){eZ.className=go.pulsator.previousClass}}};var e7=function fQ(){bO("LeadHunter: processing single page application state change");e1=cz();gn()};var f4=function fu(){c6(e7);var gC=function(){var gI=cL.querySelector("html"),gE=600,gH=300,gK=cC.innerWidth,gD=getComputedStyle(gI).zoom,gG={};var gF=function(){var gL=gI.style.cssText.split(";").find(function(gM){return gM.includes("--zoomLevel")});if(gL!==dT){gL=gL.split(":");if(gL.length>1){gL=parseFloat(gL[1])}else{return dT}}return gL};var gJ=gF();if(gJ!==dT){gD=gJ}if(gK<gE&&gK>=gH){gG={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:gD};f5.contentWindow.postMessage({sizeSettings:gG,message:fX,windowWidth:cC.innerWidth||0},fb);return}if(gK<gH){gG={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:gD};f5.contentWindow.postMessage({sizeSettings:gG,message:fX,windowWidth:cC.innerWidth||0},fb);return}gG={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:gD};f5.contentWindow.postMessage({sizeSettings:gG,message:fX,windowWidth:cC.innerWidth||0},fb)};cC.roistatLeadHunterUpdate=gC;cu(cC,"load",function(){gC()});cu(cC,"resize",function(){gC()});cu(cC,"message",function gB(gH){var gM=typeof gH.data==="string"?gH.data:gH.data.message;if(gM===fY){ge=gH.data.leadHunterId;e8=gH.data.leadHunterMaxShownCount;var gL=aT.getObject(bg)!==null;if(gL){e0=gH.data.leadHunterAutoShowTime;gl=gH.data.leadHunterMinTime;fi=gH.data.leadHunterPulsatorSettings;aT.set(fO,gl);aT.set(fa,e0);if(fi){var gK=Number(fi.isEnabled);bO("Leadhunter: set pulsator setting "+gK);aT.set(fL,gK);gq(fi)}}bO("ShowLimit: Get lhScriptId: "+gH.data.leadHunterId+" and lhScriptMaxShownCount: "+gH.data.leadHunterMaxShownCount+" from lh widget");
fK()}if(gM===eT){fC()}if(gM===fX){const gG=typeof gH.data==="object"&&gH.data.calibratingSize!==dT?gH.data.calibratingSize:true;f5.setAttribute("style","width: "+gH.data.width+"px !important; height: "+gH.data.height+"px !important;");if(gv&&!gG){f5.contentWindow.postMessage({message:fX,windowWidth:cC.innerWidth||0,calibratingSize:true},fb)}gf(gH)}if(gM===gd){var gF=gH.data.caughtLeadData;if(cC.roistat.leadHunter.onBeforeSubmit){bO("LeadHunter: process user defined onBeforeSubmit");var gD=cC.roistat.leadHunter.onBeforeSubmit(gF);if(gD){gF=gD}}if(!cn){bO("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");eH()}else{bO("ShowLimit: catch before submit message, setLeadHunterScriptCaught will run");fM()}var gE=aT.getObject(bG);var gJ=gE!==null;var gI=gJ&&gF.isNeedCallback===null&&!S(gE);if(gI){gF.isNeedCallback=0}f5.contentWindow.postMessage({caughtLead:gF,message:fI},fb)}if(gM===gk){if(cC.roistat.leadHunter.onAfterSubmit){bO("LeadHunter: process user defined onAfterSubmit");cC.roistat.leadHunter.onAfterSubmit({name:gH.data.name,phone:gH.data.phone})}}})};function fN(){var gB={apiData:cC.roistat.leadHunter.form,message:f1};f5.contentWindow.postMessage(gB,fb)}function fK(){if(!f0()){bO("checkLeadHunterLaunch false");return}var gB=aT.getObject(bg)!==null;if(gB){eI()}if(!fd()){bO("initSettings false");return}bO("LeadHunter: activated");a2(function(){fZ();gn();f4();if(typeof cC.onRoistatLeadHunterInited==="function"){cC.onRoistatLeadHunterInited()}})}function f6(){return(cC.innerHeight?cC.innerHeight:cL.documentElement.clientHeight==0?cL.body.clientHeight:cL.documentElement.clientHeight)}function gA(){return(cC.innerWidth?cC.innerWidth:cL.documentElement.clientWidth==0?cL.body.clientWidth:cL.documentElement.clientWidth)}function fR(gE,gB){gE=gE||event;e2=gE.clientY;var gC=e2/f6(),gG=eW>0&&eW>gC,gD=gC<eY,gF=(cz()-e1)>gl*1000;if(gG&&gD&&!eQ&&gF&&go.leave.isShowEnabled&&!fl()){bO("LeadHunter: show modal with because move up ("+eW+" -> "+gC+") and in modal zone and show on leave enabled");eE("exit");eG(gB);fv(gE)}if(gC<eN){eW=gC}}function gf(gB){if(eF){fU()}else{gB=gB||event;fv(gB)}}function fv(gG){var gC=gG.type==="message"?gG.data.width:fF.offsetWidth;var gD=gA();var gB=gG.clientX-Math.round(gC/2)||fF.offsetLeft;gB=Math.max(20,Math.min(gB,gD-gC-20));var gH=gB+gC>gD-40;if(gH){var gE=(gB+gC-20)-(gD-40);gB=gB-gE}var gF=gD-40>gC?"":"width: "+(gC-40)+"px;";if(es(fF)){fF.setAttribute("style","left: "+gB+"px; top: 0px; "+gF)}}function eH(){if(cn){return}cC.roistatSetCookie(eO,1,L)}function fC(){if(!cn){bO("ShowLimit: Beta Test off, setCookieLeadHunterCaught");eH()}if(es(fV)){fV.setAttribute("style","opacity:0")}if(es(fF)){fF.style.top="-"+fF.offsetHeight*2+"px";setTimeout(function(){fF.className=fV.className=ff},500)}}function fh(){var gP=cL.getElementById("roistat-lh-phone-input"),gD=cL.getElementById("roistat-lh-name-input"),gF,gN;gF=gP===null?"":gP.value;gN=gD===null?"":gD.value;var gK={name:gN,phone:gF,isNeedCallback:null,callbackPhone:null,fields:{}};if(cC.roistat.leadHunter.onBeforeSubmit){bO("LeadHunter: process user defined onBeforeSubmit");var gG=cC.roistat.leadHunter.onBeforeSubmit(gK);if(gG){gK=gG}}var gM=gK.phone.length<1;var gO=gK.phone.indexOf("_")===-1;var gI=!gM&&gO;var gL=gK.name.length<1;var gC=!gL||!cC.roistat.leadHunter.form.isNameRequired;if(!gI&&es(gP)){gP.setAttribute("style","border: 2px solid #E0571A;");return}if(!gC&&es(gD)){gD.setAttribute("style","border: 2px solid #E0571A;");return}var gB=ey+"?v="+cX+"&lead-hunt-input="+encodeURIComponent(gK.phone)+"&lead-name="+encodeURIComponent(gK.name)+"&visit="+ax();if(gK.isNeedCallback!==null&&gK.isNeedCallback!==dT){gB=gB+"&is_need_callback="+(gK.isNeedCallback>0?1:0)}if(gK.callbackPhone){gB=gB+"&callback_phone="+gK.callbackPhone}if(cC.roistat.leadHunter.additionalNotifyEmail!==null){gB=gB+"&additional_email="+encodeURIComponent(cC.roistat.leadHunter.additionalNotifyEmail)}var gE=0;if(gK.fields&&typeof gK.fields==="object"){for(var gH in gK.fields){if(gK.fields.hasOwnProperty(gH)){++gE}}}if(gE>0){gB=gB+"&fields="+gj(JSON.stringify(gK.fields))}gB=gB+"&t="+cz();var gJ=cL.createElement("img");gJ.src=gB;if(es(gP)){gP.setAttribute("style","")}if(!cn){bO("ShowLimit: Beta Test off, caught LH usually");eH()}else{bO("ShowLimit: caught LH by set setLeadHunterScriptCaught");fM()}if(!es(gp)){fC();fc()}else{fk()}if(cC.roistat.leadHunter.onAfterSubmit){bO("LeadHunter: process user defined onAfterSubmit");cC.roistat.leadHunter.onAfterSubmit({name:gN,phone:gF})}}function ft(gB){if(gB.preventDefault){gB.preventDefault()}else{gB.returnValue=false}if(es(fA)){fA.style.display==="block"?fA.style.display="none":fA.setAttribute("style","display: block; padding: 0 30px; width:"+fF.clientWidth+"px;")}gf()}function gz(){if(es(gs)){gs.disabled===true?gs.disabled=false:gs.disabled=true}if(es(fq)){fq.style.display==="block"?fq.style.display="none":fq.style.display="block"}}function fc(){cL.onmousemove=null;if(es(fV)){fV.onresize=null}}var e9=function(gH,gK){if(!gH||!gK){bO("LeadHunter: skip phone mask render due to empty input or mask");
return}bO("LeadHunter: render phone mask "+gK+" for input: "+gH.value);if(cC.roistatRenderPhoneMaskMutex){return}cC.roistatRenderPhoneMaskMutex=true;var gE="_",gD="x",gG="х",gF=gK.toLowerCase().split(gD).join(gE).split(gG).join(gE);var gC=function(gL){if(gH.setSelectionRange){gH.setSelectionRange(gL,gL)}else{if(gH.createTextRange){var gM=gH.createTextRange();gM.collapse(true);gM.moveEnd("character",gL);gM.moveStart("character",gL);gM.select()}}};var gI=function(gL){if(!gL){return 0}var gM=gL.indexOf(gE);if(gM<0){return gL.length}return gM};var gJ=function(gL){gC(gI(gL))};var gB=function(gU){var gV=gF.split("");if(!gU){return gF}var gL=gU.split("");var gW=[],gT,gQ,gS,gP,gN,gM,gR;for(var gO=0;gO<gV.length;gO++){gQ=gV[gO];if(gO>=gL.length){gW.push(gQ);continue}gN=((gO+1)<gV.length)?gV[gO+1]:null;gM=((gO+1)<gL.length)?gL[gO+1]:null;gR=((gO+2)<gL.length)?gL[gO+2]:null;gT=gL[gO];gS=parseInt(gT)>=0;gP=(gQ===gE)&&gS;if(!gP){gW.push(gQ);continue}if(gM===gE&&gN!==gE&&gR!==gN){gW.push(gQ);continue}gW.push(gT)}return gW.join("")};setTimeout(function(){var gL=gB(gH.value);if(gH.value!==gL){gH.value=gL}gJ(gL);cC.roistatRenderPhoneMaskMutex=false},1)};var f3=function(gB,gD,gC){aT.set(c2,a9.encode(gB));aT.set(bA,a9.encode(gD));aT.setObject(b9,gC)};var fJ=function(gB){dm=gB;if(f5===dT){return}ew()};var ew=function(){var gB={language:dm,message:f2};f5.contentWindow.postMessage(gB,fb)};var fM=function(){bO("ShowLimit: Start set roistat_leadHunterScriptsCaught");var gB=aT.getObject(e4);if(!gB){gB={}}bO("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");gB[ge]=1;aT.setObject(e4,gB)};var ez=function(){bO("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var gD=aT.getObject(gx);if(!gD){gD={}}var gE=gD.hasOwnProperty(ge);if(!gE){bO("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");var gB=aT.get(eO)>0;if(gB){aT.remove(eO);dN(eO,{path:"/"})}gD[ge]=gB?1:0}var gC=gD[ge]+1>e8;if(gC){bO("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}bO("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");gD[ge]+=1;aT.setObject(gx,gD)};var eX=function(){if(e8===0){bO("ShowLimit: show limit off and set to 0");return false}var gC=aT.getObject(gx),gB=aT.get(eO)>0?1:0,gD=gC?gC[ge]:gB,gE=gD+1>e8;bO("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+gE);return gE};var fT=function(){var gD=aT.getObject(e4),gB=gD?gD[ge]:null,gC=gB===1;bO("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+gC);return gC};var eI=function(){aT.set(bx,eC());aT.set(c2,a9.encode(fP()));aT.set(fj,eR());aT.set(fL,gy())};var fP=function(){var gB=cI()+"//"+b1+"/api/site/1.0/"+dq()+"/leadhunter/script/"+aT.get(bx)+"/widget?visit_id="+dh();return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+gB+'" frameborder="0"></iframe></div>'};var eC=function(){var gC=aT.getObject(bg);if(gC===null){return}aT.set(ay,"");var gG=Number(aT.get(ch));var gK=Object.keys(gC);var gH=gK.sort()[0];if(!gG){return gH}for(var gF=0;gF<gK.length;gF++){var gL=gC[gK[gF]];var gI=gL.targetPageList;var gE=cy(gI.join(","));var gD=gI.length===0;var gB=Array.isArray(gL.devicesFilter)&&gL.devicesFilter.length>0?gL.devicesFilter.indexOf(bF())!==-1:true;var gJ=(gD||gE)&&gB&&(!gL.timetable.isEnabled||S(gL.timetable));if(gJ){gH=gK[gF];aT.set(ay,gH)}}return gH};var eR=function(){var gB=fG();return gB!==null?gB.targetPageList.join(","):""};var gy=function(){var gB=fG();return gB!==null?Number(gB.isPulsatorEnabled):0};var fG=function(){var gB=aT.get(bx);var gC=aT.getObject(bg);return gC!==null&&gC[gB]!==null?gC[gB]:null};cC.roistatLeadHunterShow=fo;cC.roistatRenderPhoneMask=e9;cC.roistat.leadHunter.localization.translateToRussian=function(){fJ(aY)};cC.roistat.leadHunter.localization.translateToEnglish=function(){fJ(dd)};aj(fK)},multiwidget:function(){var fh="roistat-multiwidget-hidden",fs="roistat-multiwidget-pulsator-phone",fq="roistat-multiwidget-pulsator-popup-item-lead-hunter",eM="roistat-multiwidget-pulsator-fill",fv="roistat-multiwidget-pulsator-fill-svg",e7="roistat-multiwidget-pulsator-img-icon",eL="roistat-multiwidget-pulsator-popup-item-chat",ey="roistat-multiwidget-pulsator-popup-item-facebook",eE="roistat-multiwidget-pulsator-popup-item-vk",e6="roistat-multiwidget-pulsator-popup-item-telegram",eU="roistat-multiwidget-pulsator-popup-item-whats-app",eS="roistat-multiwidget-pulsator-popup-item-viber",fc="roistat-multiwidget-pulsator-overlay",fb="roistat-multiwidget-pulsator-items-popup-holder",e0="roistat-multiwidget-pulsator-popup-header-wrapper",e5="iframe_chat_successfully_loaded",eF="roistat-multiwidget-pulsator-popup-tail",e2="roistat-online-chat-popup-wrapper",fu="roistat-online-chat-popup-wrapper-hidden",fo="roistat-multiwidget-pulsator-holder-hidden";var eK,fa,eV,eO,eQ,fr,ev,eB,ft,e1,eH,ex,eI,ez,fk,eA;var eR=false;
var eZ=true;var fp={topLeft:{bottom:"unset",right:"unset",top:c4()?0:"20px",left:c4()?0:"35px",transformOrigin:"top left"},topRight:{bottom:"unset",right:c4()?0:"35px",top:c4()?0:"20px",left:"unset",transformOrigin:"top right"},bottomRight:{bottom:aI()?0:"20px",right:aI()?"6px":"35px",top:"unset",left:"unset",transformOrigin:"bottom right"},bottomLeft:{bottom:c4()?0:"20px",right:"unset",top:"unset",left:c4()?0:"35px",transformOrigin:"bottom left"}};var eD={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var eT={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function fg(fx){bO("Multiwidget: "+fx)}function e4(){fa=ej(eK,fs);eV=ej(eK,fb);eQ=ej(eK,e0);eO=ej(eK,fc);e1=ej(eV,fq);fr=ej(eK,eF);eH=ej(eV,eL);ex=ej(eV,eE);eI=ej(eV,ey);ez=ej(eV,e6);fk=ej(eV,eU);eA=ej(eV,eS);ev=ej(fa,eM);eB=fa.getElementsByClassName(fv);ft=ej(fa,e7)}function fj(){if(aI()&&es(eO)&&es(eV)){if(eV.classList.contains(fh)){eC(eO)}else{fe(eO)}}}function eN(){if(es(eV)){eV.classList.toggle(fh)}fj()}function fn(fx){if(es(fx)){fx.classList.toggle("opened")}}function fw(){fg("add pulsator events");er(fa,"click",function(){if(!eX()){eN()}fn(fa)});er(eQ,"click",function(){if(!eX()){eN()}fn(fa);fj()});er(eO,"click",function(){if(!eX()){eN()}fn(fa);fj()});er(e1,"click",function(){fg("opening leadhunter via multiwidget");cC.roistatLeadHunterShow();eN();d8(fa,"opened",false)});er(eH,"click",function(){fg("opening online chat via multiwidget");cC.roistatOnlineChatShow();eN()});er(ex,"click",function(){cC.open(aT.get(w),"_blank")});er(eI,"click",function(){cC.open(aT.get(cP),"_blank")});er(ez,"click",function(){cC.open(aT.get(dJ),"_blank")});er(fk,"click",function(){cC.open(aT.get(aV),"_blank")});er(eA,"click",function(){cC.open(aT.get(b0),"_blank")})}function eX(){var fx=ej(cL,e2);return es(fx)&&!fx.classList.contains(fu)}function eY(){return es(fb)&&!fb.classList.contains(fh)}function eC(fx){if(es(fx)){fx.classList.add(fh)}}function fe(fx){if(es(fx)){fx.classList.remove(fh)}}function e8(){eC(e1)}function eW(){fg("hiding disabled multiwidget options");var fx=Number(aT.get(ch)),fy=Number(aT.get(n)),fA=Number(aT.get(U)),fD=Number(aT.get(a8)),fz=Number(aT.get(cg)),fC=Number(aT.get(a));var fB=0;if(!fx||!d7||!d1){fg("hiding leadhunter option");e8()}if(!eb()||!eR){fg("hiding online chat option");eC(eH)}if(eb()){fB++}if(!fy){fg("hiding vk-messenger option");eC(ex)}else{fB++}if(!fA){fg("hiding fb-messenger option");eC(eI)}else{fB++}if(!fD){fg("hiding telegram-messenger option");eC(ez)}else{fB++}if(!fz){fg("hiding whatsApp-messenger option");eC(fk)}else{fB++}if(!fC){fg("hiding Viber-messenger option");eC(eA)}else{fB++}eZ=fB>1;if(aI()&&eZ){fg("hiding popup header");fe(eQ)}}function ew(){var fy=aT.getObject(H);fg("start filling pulsator");if(fy){if(es(ev)){ev.setAttribute("style","background: "+fy.button_color+";")}if(es(ft)){ft.setAttribute("style","fill: "+fy.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(eB)){for(var fx=0;fx<eB.length;fx++){eB[fx].setAttribute("style","fill: "+fy.button_color+";")}}}}function fd(){var fx=aT.getObject(H);return fx!==null&&typeof fx.position==="string"&&fx.position!==""?fx.position:"bottomRight"}function e9(){if(es(eK)){var fx=fd();eK.setAttribute("style","top: "+fp[fx].top+";right:"+fp[fx].right+";bottom:"+fp[fx].bottom+";left:"+fp[fx].left+";");eK.style.transformOrigin=fp[fx].transformOrigin;eK.style.transform=eo()}}function eP(){if(es(fa)){var fx=fd();var fy="transform: "+d6()+";";var fz=fx==="topLeft"||fx==="bottomLeft"?"margin-right":"margin-left";fa.setAttribute("style",fz+": auto;"+fy)}}function ff(){if(es(eV)){var fx=fd();var fy=aI()?"0":eD[fx].bottom;var fz=aI()?"unset":eD[fx].top;eV.setAttribute("style","top: "+fz+";right:"+eD[fx].right+";bottom:"+fy+";left:"+eD[fx].left+";")}}function eG(){if(es(fr)){var fx=fd();fr.setAttribute("style","top: "+eT[fx].top+";right:"+eT[fx].right+";bottom:"+eT[fx].bottom+";left:"+eT[fx].left+";border-top-color:"+eT[fx]["border-top-color"]+";border-right-color:"+eT[fx]["border-right-color"]+";border-bottom-color:"+eT[fx]["border-bottom-color"]+";border-left-color:"+eT[fx]["border-left-color"]+";")
}}function fl(){e9();eP();if(!aI()){ff();eG()}}function eJ(){if(cL.body===null){return}var fy=a9.decode(aT.get(f));if(fy){fg("appending multiwidget pulsator");var fx=cL.createElement("div");fx.innerHTML=fy;eK=fx.childNodes.item(0);if(!cC.roistat.multiwidget.isVisible){fg("Hide widget");eK.className=eK.className+" "+fo}cL.body.appendChild(eK);e4();eW();ew();fl();fw()}}function e3(){var fD=aT.getObject(cS);if(!fD){var fF=parseInt(aT.get(bN));fF=!isNaN(fF)?Boolean(fF):roistat.multiwidget.isEnabled;var fy=Boolean(parseInt(aT.get(n)))||roistat.multiwidget.vk.isEnabled;var fH=aT.get(w);fH=fH!=="null"?fH:roistat.multiwidget.vk.link;var fC=Boolean(parseInt(aT.get(U)))||roistat.multiwidget.fb.isEnabled;var fG=aT.get(cP);fG=fG!=="null"?fG:roistat.multiwidget.fb.link;var fz=Boolean(parseInt(aT.get(a8)))||roistat.multiwidget.telegram.isEnabled;var fI=aT.get(dJ);fI=fI!=="null"?fI:roistat.multiwidget.telegram.link;var fx=Boolean(parseInt(aT.get(cg)))||roistat.multiwidget.whatsApp.isEnabled;var fB=aT.get(aV);fB=fB!=="null"?fB:roistat.multiwidget.whatsApp.link;var fE=Boolean(parseInt(aT.get(a)))||roistat.multiwidget.viber.isEnabled;var fA=aT.get(b0);fA=fA!=="null"?fA:roistat.multiwidget.viber.link;fD={is_enabled:fF,vk:{is_enabled:fy,link:fH},fb:{is_enabled:fC,link:fG},telegram:{is_enabled:fz,link:fI},whats_app:{is_enabled:fx,link:fB},viber:{is_enabled:fE,link:fA}}}dQ(fD)}function fi(){cu(cC,"message",function fy(fB){var fA=typeof fB.data==="string"?fB.data:fB.data.message;if(fA===e5){eR=true;fe(eH)}});function fz(){if(es(eK)){eK.style.transform=eo();ff();eG();if(!aI()){eC(eO);eC(eQ);fe(fr)}else{fj();eC(fr);if(eZ){fe(eQ)}}}}cu(cC,"resize",fz);if(eg){cu(et,"resize",fz)}function fx(){if(es(fa)){fa.classList.toggle("opened")}}cC.roistatToggleMultiwidgetState=fx}function fm(){e3();bQ();fi();fg("activated");a2(function(){eJ();if(typeof cC.onRoistatMultiwidgetInited==="function"){cC.onRoistatMultiwidgetInited()}})}ec=e8;aj(fm)},onlineChat:function(){var fS="iframe-module-created",eL="iframe_chat_successfully_loaded",fV="iframe_resize",ez="iframe-online-chat-opened",eH="iframe-online-chat-invite-message",gi="iframe-delivered-messages",fW="roistat-online-chat-init",fQ="roistat-online-chat-init-with-text",fx="roistat-online-chat-open",fL="roistat-online-chat-close",gq="roistat-online-chat-reload",ga="roistat-online-chat-update-custom-params",e5="roistat-online-chat-lead_successfully_sent",f2="roistat-online-chat-translate-form",fg="roistat-online-chat-send-lead",gd="roistat_chat_id",gp="roistat_chat_session",fT="roistat_chat_custom_position",fB="roistat-online-chat-page-resized",eV=10*365*24*60*60,eZ,eM,ge,eI,eP,gb,fI,fa,fG;var fw="roistat-online-chat-popup-iframe",fd="roistat-online-chat-hidden",gf="roistat-online-chat-holder",f9="roistat-online-chat-popup-wrapper",f6="roistat-multiwidget-pulsator-phone",fE="roistat-multiwidget-pulsator-items-popup-holder",eY="roistat-multiwidget-pulsator-overlay",fz="roistat-multiwidget-hidden",eA="roistat-multiwidget-pulsator-popup-item-chat",fF="roistat-online-chat-popup-wrapper-hidden",fb="roistat-online-chat-popup-mouse-track",fv="roistat-online-chat-popup-mouse-track-active",ff="roistat-online-chat-pulsator-fill",gc="roistat-online-chat-pulsator-img",fn="roistat-online-chat-pulsator-phone",gt="roistat-online-chat-pulsator-circle",eG="."+gt,f5="roistat-online-chat-pulsator-notification-circle",gr="."+f5,e3="roistat-online-chat-pulsator-fill-svg",fD="roistat-online-chat-popup-spacer",eU=".roistat-multiwidget-pulsator-items-popup",eQ=".roistat-online-chat-pulsator-phone",fs=".roistat-online-chat-popup-wrapper",eX="roistat-online-chat-full-screen";var e7=99;var f8="roistat-online-chat-pulsator-notification-limit";var fc=false,gs=false,eN=false,fe=false,gv=false,fJ=0,eE=0;var fX={};var fA=".roistat-online-chat-holder";var fm="roistat-online-chat-holder-hidden";if(ef()){fA=".roistat-multiwidget-pulsator-holder";fm="roistat-multiwidget-pulsator-holder-hidden";gt="roistat-multiwidget-pulsator-circle";eG="."+gt;f5="roistat-multiwidget-pulsator-notification-circle";gr="."+f5;f8="roistat-multiwidget-pulsator-notification-limit"}var gj;var go={topLeft:{bottom:"unset",right:"unset",top:aI()?"10px":"20px",left:aI()?"24px":"35px"},topRight:{bottom:"unset",right:aI()?"24px":"35px",top:aI()?"10px":"20px",left:"unset"},bottomRight:{bottom:aI()?"10px":"20px",right:aI()?"24px":"35px",top:"unset",left:"unset"},bottomLeft:{bottom:aI()?"10px":"20px",right:"unset",top:"unset",left:aI()?"24px":"35px"}};var gy=function(){return{topLeft:{top:aI()?"unset":"130px",right:"unset",bottom:aI()?"0px":"unset",left:aI()?0:"65px"},topRight:{top:aI()?"unset":"130px",right:aI()?0:"65px",bottom:aI()?"0px":"unset",left:"unset"},bottomRight:{top:"unset",right:aI()?0:"65px",bottom:aI()?0:"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:aI()?0:"130px",left:aI()?0:"65px"}}};var gg={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};
var fP=function(gz){bO("onlineChat: "+gz)};var e4=function(){function gz(){return Math.random().toString(36).substr(2,8)}return gz()+gz()+gz()+gz()};var fC=function(){var gz=cL.querySelector('meta[name="viewport"]');if(es(gz)){return gz.getAttribute("content")}return null};var eF=fC();var fK="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no";var eO=function(){var gz=cB(gp);if(!gz){gz=aT.get(gp)}if(!gz){gz=e4();var gA={expires:eV,path:"/"};if(L.domain){gA.domain=L.domain}aT.save(gp,gz,gA)}return gz};var eD=function(){var gz={message:fS,detail:{version:cX,language:a3,projectKey:dq(),visitId:ax(),firstVisit:aT.get(bV),chatId:cB(gd),moduleTargetOrigin:cC.location.origin,referrer:cC.location.href,params:em,sessionUniqueKey:eO(),isOpened:gh(),isMobile:aI()}};gb.contentWindow.postMessage(gz,gb.src)};var e0=function(){var gz={message:ez,detail:{isOpened:gh(),isMobile:aI()}};gb.contentWindow.postMessage(gz,gb.src)};var e2=function(){var gz={message:ga,detail:{params:em,isMobile:aI()}};gb.contentWindow.postMessage(gz,gb.src)};var ew=function(){var gz={language:a3,message:f2};gb.contentWindow.postMessage(gz,gb.src)};var e6=function(gA){var gz={message:fQ,detail:{message:gA,isMobile:aI()}};gb.contentWindow.postMessage(gz,gb.src)};var gx=function(gz){var gA={message:fx,detail:{chatId:gz,isMobile:aI()}};gb.contentWindow.postMessage(gA,gb.src)};var eT=function(){cC.focus();if(typeof cC.roistatOnlineChatToggle==="function"){cC.roistatOnlineChatToggle()}if(typeof cC.roistatToggleMultiwidgetState==="function"){cC.roistatToggleMultiwidgetState()}eJ(gj)};var eW=function(){var gz={message:fB,detail:{isMobile:aI()}};gb.contentWindow.postMessage(gz,gb.src)};var eR=function(gz){var gA={message:fV,isFullScreen:gv,iframeStyles:gz};gb.contentWindow.postMessage(gA,gb.src)};var f4=function(gz){var gA={expires:eV,path:"/"};if(L.domain){gA.domain=L.domain}dN(gd,{path:"/"});aX(gd,gz,gA)};var f3=function(){cu(cC,"message",function gz(gC){var gB=typeof gC.data==="string"?gC.data:gC.data.message;var gA=typeof gC.data!=="string"?gC.data.detail:{};fP("event: "+gB+" "+JSON.stringify(gA));switch(gB){case eL:f7();cC.setRoistatOnlineChatCustomParams=fj;fj(em);if(typeof cC.onRoistatOnlineChatInited==="function"){cC.onRoistatOnlineChatInited()}break;case fS:gs=true;eD();if(eN){eN=false;if(es(ge)){ge.classList.remove(fF);e0()}}break;case fW:fP("saving chat id = "+gA.chatId);f4(gA.chatId);break;case fQ:fP("saving chat with text id = "+gA.chatId);if(cC.onRoistatChatInit!==dT&&typeof cC.onRoistatChatInit==="function"){cC.onRoistatChatInit(gA.chatId)}f4(gA.chatId);cC.roistatOnlineChatShow();break;case fx:fP("saving chat id by open chat = "+gA.chatId);f4(gA.chatId);cC.roistatOnlineChatShow();break;case fL:eT();break;case eH:fP("rendering invite message");fY(gA.message);break;case gi:fP("get delivered messages");gw(gA.messages);break;case fV:gv=gC.data.isFullScreen;if(aI()){eR({});return}Object.assign(fX,{width:gb.getBoundingClientRect().width,height:gb.getBoundingClientRect().height,borderRadius:cC.getComputedStyle(gb).borderRadius});gb.classList.toggle(eX,gv);gb.style.transition="unset";if(gv){Object.assign(fX,{top:ge.style.top,right:ge.style.right,bottom:ge.style.bottom,left:ge.style.left});ge.style.top=0;ge.style.right=0;ge.style.bottom=0;ge.style.left=0;ge.style.transition="unset"}else{ge.style.top=fX.top;ge.style.right=fX.right;ge.style.bottom=fX.bottom;ge.style.left=fX.left;fX={};setTimeout(function(){gb.style.transition="height 0.5s ease-in";ge.style.transition="all 0.3s"},30)}eR(fX);break;case fg:fP("sending lead");e1(gA.leadData)}})};var fi=function(){var gA=cC.roistat.onlineChat.notificationsCustomHolderSelector;var gz=gA!==null;return cL.querySelector(gz?gA:fA)};var e1=function(gz){cC.roistatGoal.reach(gz,function(){gb.contentWindow.postMessage(e5,gb.src)})};var fY=function(gG){if(gh()){return}var gB="<div class='roistat-online-chat-message'><img src='"+gG.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+gG.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+gG.text+"</div></div><div class='roistat-online-chat-message-close'>х</div></div>";var gF=cL.createElement("div");gF.innerHTML=gB;var gE=fi();if(es(gE)){var gH=fH()?"beforeend":"afterbegin";gE.insertAdjacentHTML(gH,gB);var gD=gE.getElementsByClassName("roistat-online-chat-message-close");var gz=gE.getElementsByClassName("roistat-online-chat-message");var gC=gD[fH()?gD.length-1:0];var gA=gz[fH()?gD.length-1:0]}setTimeout(function(){gA.remove()},15000);er(gA,"click",function(gI){gI.stopPropagation();if(!gh()){f0()}gk()});er(gC,"click",function(gI){gI.stopPropagation();gA.remove()})};var gw=function(gB){var gF=fi();if(es(gF)){var gG=gF.querySelector(eG);var gA=gF.querySelector(gr);var gE=gB>e7;var gD=gE?e7+"+":gB;
if(gA&&!gB){gA.remove();return}if(gA){gA.textContent=gD;gA.classList.toggle(f8,gE);return}if(gB){var gz=gE?f8:"";var gC='<div class="'+f5+gz+'">'+gD+"</div>";gG.insertAdjacentHTML("beforebegin",gC)}}};var gk=function(){var gA=fi();if(es(gA)){var gz=gA.getElementsByClassName("roistat-online-chat-message");while(gz.length>0){gz[0].remove()}}};var gn=function(){gb=cL.getElementById(fw);if(es(gb)){er(gb,"load",function(){fu()})}er(cL,"click",function(gE){var gD=cC.roistat.onlineChat.customTriggerSelector;if(ef()){var gF=ej(cL,f6);var gC=ej(cL,eA);var gB=gh()&&gE.target!==gC&&!gC.contains(gE.target);if(gB){d8(gF,"opened",false)}}else{var gz=ej(cL,gf);var gA=gh()&&gE.target!==gz&&!gz.contains(gE.target);if(gA){d8(gz,"opened",false)}}if(gh()&&(gE.target.closest(eU)===null&&gE.target.closest(fs)===null&&gE.target.closest(eQ)===null&&(gD?gE.target.closest(gD)===null:true))){f0()}})};var ex=function(gB){var gA=ge.getBoundingClientRect().x;var gz=ge.getBoundingClientRect().y;fe=true;eC();fJ=gB.pageX-gA;if(fH()){eE=gB.pageY+gz}else{eE=gB.pageY-gz}};var fl=function(){fe=false;fZ();e8()};var eC=function(){if(es(eM)){eM.classList.add(fv)}};var fZ=function(){if(es(eM)){eM.classList.remove(fv)}};var fM=function(gH){if(fe&&es(ge)){var gz=ge.getBoundingClientRect();var gG=gz.width;var gF=400;var gA=50;var gK=0;var gC=cC.innerHeight-gF;var gI=gH.pageX-fJ;var gE=gA;var gB=cC.innerWidth-gA-gG;if(fH()){gK=cC.innerHeight-(gH.pageY+gz.y)-20}else{gK=gH.pageY-eE}var gJ=gm();var gD=gJ==="bottomLeft"||gJ==="bottomRight"?"top":"bottom";if(gI>=gE&&gI<=gB){ge.style.left=gI+"px";if(!gu()){ge.style.right="unset"}}if(gK>=50&&gK<=gC){ge.style[gD]=gK+"px"}}};var e8=function(){var gz={position:gm(),top:ge.style.top,left:ge.style.left,bottom:ge.style.bottom,right:ge.style.right};aT.setObject(fT,gz)};var gm=function(){var gz=aT.getObject(H);var gA=gz!==null&&typeof gz.position==="string"&&gz.position!=="";return gA?gz.position:"bottomRight"};var fH=function(){var gz=gm();return gz==="topLeft"||gz==="topRight"};var gu=function(){var gz=gm();return gz==="topLeft"||gz==="bottomLeft"};var e9=function(gA){var gz=Math.max(gA*eu(),gA)+"px";eI.style.height=gz;eI.style.marginBottom="-"+gA+"px"};var eK=function(){var gD=gm();var gG=cC.roistat.onlineChat.customPosition;var gF=gy();var gJ=gG&&gG.top!==null?gG.top:gF[gD].top;var gB=gG&&gG.right!==null?gG.right:gF[gD].right;var gz=gG&&gG.bottom!==null?gG.bottom:gF[gD].bottom;var gC=gG&&gG.left!==null?gG.left:gF[gD].left;ge=ej(eZ,f9);if(es(ge)){ge.classList.add(fF);ge.setAttribute("style","visibility: hidden;top: "+gJ+";right:"+gB+";bottom:"+gz+";left:"+gC+";");eI=ej(eZ,fD);if(es(eI)){var gH=parseInt(gJ==="unset"?gz:gJ);e9(gH);var gI=function(){if(aI()){ge.style.height=cC.visualViewport.height+"px"}else{ge.style.height="unset"}};gI();cC.addEventListener("resize",function gA(){e9(gH);gI();eW()});if(eg){et.addEventListener("resize",function gE(){e9(gH);gI();eW()})}}}};var gl=function(){var gz=gm();var gA=function(){if(es(ge)&&!gv){var gD=gy();ge.style.right=gD[gz].right;ge.style.left=gD[gz].left;ge.style.top=gD[gz].top;ge.style.bottom=gD[gz].bottom}};cC.addEventListener("resize",function gC(){gA()});if(eg){et.addEventListener("resize",function gB(){gA()})}};var fk=function(){if(es(eM)){var gz=gm();eM.setAttribute("style","top: "+gg[gz].top+";bottom:"+gg[gz].bottom+";height:"+gg[gz].height+";")}};var fh=function(){if(es(gj)){var gz=gm();gj.setAttribute("style","top: "+go[gz].top+";right:"+go[gz].right+";bottom:"+go[gz].bottom+";left:"+go[gz].left+";")}};var fp=function(){if(cL.body===null){return}fP("iframe appending to page");var gz=a9.decode(aT.get(bc));eZ=cL.createElement("div");eZ.innerHTML=gz;cL.body.appendChild(eZ);eM=ej(cL,fb);eK();gl();gn()};var fr=function(){var gA=aT.getObject(H);fP("start filling pulsator");if(gA){if(es(fI)){fI.setAttribute("style","background: "+gA.button_color+";")}if(es(fa)){fa.setAttribute("style","fill: "+gA.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(fG)){for(var gz=0;gz<fG.length;gz++){fG[gz].setAttribute("style","fill: "+gA.button_color+";")}}}};var f7=function(){if(cL.body===null){return}var gA=a9.decode(aT.get(l));var gC=!Y()&&cC.roistatOnlineChatOnly;var gB=(gA&&!ef()&&eb())||gC;if(gB){fP("pulsator appending to page");var gz=cL.createElement("div");gz.innerHTML=gA;gj=gz.childNodes.item(0);if(!cC.roistat.multiwidget.isVisible){fP("Hide widget");gj.className=gj.className+" "+fm}fI=ej(gj,ff);fa=ej(gj,gc);eP=ej(gj,fn);fG=cL.getElementsByClassName(e3);cL.body.appendChild(gj);fh();eS();fr()}};var eS=function(){if(es(gj)){er(gj,"click",function(){f0();eJ(gj)})}};function eJ(gz){if(es(gz)){gz.classList.toggle("opened")}}var gh=function(){return es(ge)&&!ge.classList.contains(fF)};function fy(){var gz=cL.querySelector("#roistat-theme-color");if(es(gz)){gz.remove()}}function eB(){var gz=cL.createElement("meta");if(es(gz)){gz.setAttribute("name","theme-color");gz.setAttribute("content","#2589FF");gz.setAttribute("id","roistat-theme-color");cL.head.prepend(gz)}}var fR=function(){if(!gh()){fy();
ft();return}var gz=Boolean(cL.querySelector("#roistat-theme-color"));if(c9.Android()||c9.iOS()){fU();if(!gz){eB()}}};var fU=function(){var gz=cL.querySelector('meta[name="viewport"]');if(!es(gz)){gz=cL.createElement("meta");gz.setAttribute("name","viewport");cL.head.appendChild(gz)}gz.setAttribute("content",fK)};function ft(){var gz=cL.querySelector('meta[name="viewport"]');if(es(gz)&&eF!==null){gz.setAttribute("content",eF);return}if(es(gz)){gz.remove()}}var f0=function(){setTimeout(function(){fe=false},3000);if(es(ge)){ge.classList.toggle(fF);fR()}if(gh()){gk()}e0()};var fO=function(){var gz=fi();if(es(gz)){gz.classList.toggle(fm)}};var fo=function(gz){a3=gz;if(!es(gb)){return}ew()};var fq=function(gz){if(!es(gb)){return}e6(gz)};var ev=function(gz){if(!es(gb)){return}gx(gz)};function f1(gz){if(es(gz)){gz.classList.add(fz)}}var fu=function(){fc=true;var gz=function(){setTimeout(function(){var gC=null;if(ef()){gC=ej(cL,f6)}else{gC=ej(cL,gf)}if(gh()){d8(gC,"opened",false)}else{d8(gC,"opened",true);var gA=ej(cL,fE);var gB=es(gA)&&!gA.classList.contains(fz);if(gB){var gD=ej(cL,eY);f1(gA);f1(gD)}}f0()},0)};cC.roistatOnlineChatShow=gz;cC.roistatOnlineChatToggle=gz;cC.roistatMultiwidgetShow=fO;fP("chat window initialized")};function fj(gz){d2(gz);e2()}function ey(){var gz=aT.getObject(aU);if(typeof gz!=="object"||gz===null||typeof gz.auto_open_chat!=="object"||!gz.auto_open_chat.is_enabled){return}setTimeout(function(){if(!gs){eN=true;return}if(es(ge)){ge.classList.remove(fF);e0()}},gz.auto_open_chat.delay_in_seconds*1000)}function fN(){bQ();a2(function(){fp();f3();ey()})}cC.roistat.onlineChat.actions.initWithMessage=fq;cC.roistat.onlineChat.actions.openChat=ev;cC.roistat.onlineChat.localization.translateToRussian=function(){fo(aY)};cC.roistat.onlineChat.localization.translateToEnglish=function(){fo(dd)};cC.roistat.onlineChat.localization.translate=function(gC){var gB=aP[aY].includes(gC),gA=aP[dd].includes(gC),gz=gC;if(gB){gz=aY}if(gA){gz=dd}fo(gz)};aj(fN)}};function ei(ev){bO("Widgets: "+ev)}function e(ev){return ev!==eq}function d2(ex){var ew=Object.keys(ex);for(var ev=0;ev<ew.length;ev++){em[ew[ev]]=ex[ew[ev]]}}function ef(){var eD=Number(aT.get(ch)),ew=eD&&d7&&d1,eH=Number(aT.get(bN)),ez=eb(),eE=Number(aT.get(n)),eA=Number(aT.get(U)),ev=Number(aT.get(a8)),ey=Number(aT.get(cg)),eG=Number(aT.get(a)),eF=ew||ez||eE||eA||ev||ey||eG,ex=ew&&!ez&&!eE&&!eA&&!ev&&!ey&&!eG,eC=ez&&!ew&&!eE&&!eA&&!ev&&!ey&&!eG,eI=!Y()&&cC.roistatOnlineChatOnly,eB=Y()&&cH();bO("Is online chat only: "+eI);bO("Is rp: "+eI);return eH&&eF&&!eC&&!ex&&!eI&&!eB}function eb(){var ev=Number(aT.get(bC));if(!ev){bO("OnlineChat: Online chat is disabled");return false}var ew=aT.getObject(aU);if(ew===null){return false}if(!ew.is_available_for_current_user_agent){bO("OnlineChat: Current device group is disabled");return false}if(!ew.pages_filter.is_enabled){bO("OnlineChat: Pages filter is disabled");return true}return cy(ew.pages_filter.pages.join(","))}function ec(){ei("Multiwidget disabled. Hide leadhunter pulsator from module")}function d4(ev,ex,ew){aT.set(c2,a9.encode(ev));aT.set(bA,a9.encode(ex));aT.setObject(b9,ew)}function ea(ew,ev){aT.set(f,a9.encode(ew));aT.setObject(H,ev)}function d9(ex,ev,ew){aT.set(l,a9.encode(ex));aT.set(bc,a9.encode(ev));aT.set(bC,ew)}function ee(ev,ex,ew){d4(ev,ex,ew);aT.set(f,a9.encode(eq));aT.set(bc,a9.encode(eq));eh=false;en.leadHunter()}function d3(eG,eC,eA){var ex=eG.form_template,eH=eG.pulsator_template,ez=eG.pulsator_settings;if(cH()){ee(ex,eH,ez);return}ei("start initing widgets");var eD=eA.pulsator_template,ey=eA.iframe_template,eF=eC.pulsator_template,ev=eC.pulsator_settings,eB=Number(aT.get(ch)),ew=Number(eA.settings.is_enabled),eE=aT.getObject(bg)!==null;d4(ex,eH,ez);ea(eF,ev);d9(eD,ey,ew);if(eE){aT.set(c2,a9.encode(d5()))}eh=true;if(eB&&!aG()){ei("leadhunter enabled. Start processing");en.leadHunter()}if(eb()){ei("online chat enabled. Start processing");en.onlineChat()}if(ef()){ei("multiwidget enabled. Start processing");en.multiwidget()}}var d5=function(){var ev=cI()+"//"+b1+"/api/site/1.0/"+dq()+"/leadhunter/script/"+aT.get(bx)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+ev+'" frameborder="0"></iframe></div>'};function ep(){var ex=aT.get(c2),eI=aT.get(bA),ez=aT.getObject(b9),eC=Number(aT.get(ch)),eD=aT.get(l),ey=aT.get(bc),ew=aT.get(bC),eF=aT.get(f),ev=aT.getObject(H);cC.roistatLeadhunterForm=ee;cC.roistatMultiwidget=d3;if(!ex||!eI||!ez||!eF||!ev||!eD){ei("requesting data from server");if(ef()||eb()||eC){c5(cI()+"//"+b1+"/api/site/"+c+"/"+dq()+"/multiwidget?domain="+encodeURIComponent(cL.domain))}}else{var eH=a9.decode(eF);var eE=a9.decode(ey);if((!e(eH)||!e(eE)||cH())&&!aG()){ei("initing LeadHunter form");cC.roistatLeadhunterForm(a9.decode(ex),a9.decode(eI),ez)}else{ei("initing multiwidget form");var eA={pulsator_template:eH,pulsator_settings:ev},eB={form_template:a9.decode(ex),pulsator_template:a9.decode(eI),pulsator_settings:ez},eG={iframe_template:eE,pulsator_template:a9.decode(eD),settings:{is_enabled:Number(ew)}};
cC.roistatMultiwidget(eB,eA,eG)}}}function ed(){ep();ei("form initialized")}function el(){ei("activated");ed()}aj(el);cC.setRoistatOnlineChatCustomParams=d2;cC.roistatSaveLeadHunterTemplates=d4;cC.roistatSaveMultiwidgetTemplate=ea;cC.roistatSaveOnlineChatTemplate=d9})();(function bm(){var ee=function(){return cB(bW)};var d4=function(){return cB(cN)};var ec=function(){return aT.get(aZ)};var d5=function(){return aT.get(b7)};var ei=function(ek){return ek!=null&&ek!==dT&&ek!==""};var eh=function(){var ek=[];var el=cL.getElementsByClassName(dK);if(el&&el.length){ek=el}return ek};var d2=function(){var ek=[];var el=cL.getElementsByClassName(c7);if(el&&el.length){ek=el}return ek};var d1=function(){var ek=[];var el=cL.getElementsByClassName(bU);if(el&&el.length){ek=el}return ek};var d7=function(){var ek=[];var el=cL.getElementsByClassName(v);if(el&&el.length){ek=el}return ek};var ea=function(){var ek=[];var el=cL.getElementsByClassName(a1);if(el&&el.length){ek=el}return ek};var e=function(er,es,ep){bO("CallTracking: RenderPhone phone = "+er);var el=function(eE){return eE.split(/[^0-9]/).join("")};var eA=function(eH,eJ){var eM=null;if(!eH){return eM}var eE=eJ.split(",");if(eE.length<2){eM=eJ}else{var eF=eH.getAttribute("data-prefix");if(eF){for(var eI=0;eI<eE.length;eI++){var eK=eE[eI];var eL=el(eK);if(eL.indexOf("8")===0){eL="7"+eL.substring(1)}var eG=eL.split(eF)[0]==="";if(eG){eM=eK;break}}}if(eM===null){eM=eE[0]}bO("CallTracking._getPhoneForElement: Prepared phone = "+eM+" for data-prefix = "+eF)}return eM};var eB=function(eJ,eH,eG){var eK=eA(eJ,eH);var eE=eG||eK;if(!eE||!eJ){return}if(eJ.tagName.toLowerCase()!=="a"){return}var eI=eJ.getAttribute("href");if(bM(eI,"tel:")){var eF=eG;if(!eF){eF=el(eE);if(eF.indexOf("8")===0){eF="7"+eF.substring(1)}}eJ.setAttribute("href","tel:+"+eF);en(eJ,eK)}};var en=function(eF,eE){if(!eF.hasAttribute("title")){return}eF.setAttribute("title",eE)};var ev=function(eG,eF){var eE=eA(eG,eF);if(!eE||!eG){return}eG.innerHTML=eE};var em=/^\D*(\d+)(?:[(|\s])/;var eq=/\((\d+)\)|\s(\d+)\s/;var eo=/(\(\d+\)|\s\d+\s)(.+)/;var ew=function(eG,eJ){var eF=eA(eG,eJ);var eI=eF.match(em);var eH=y(eI)?eI[1]:"";var eK=eF.match(eq);var eE=(y(eK)?(eK[1]||eK[2]):"").trim();var eL=eF.match(eo);var eM=(y(eL)?eL[2]:"").trim();return{country:eH,region:eE,number:eM}};var eC=function(eF,eE){var eG=eh();bO("CallTracking: render phone default classes for "+eG.length+" elements");d0(eG,function(eH){ev(eH,eF);eB(eH,eF,eE)});d0(d2(),function(eI){var eH=ew(eI,eF).country;ev(eI,eH)});d0(d1(),function(eI){var eH=ew(eI,eF).region;ev(eI,eH)});d0(d7(),function(eH){var eI=ew(eH,eF).number;ev(eH,eI)});d0(ea(),function(eH){eB(eH,eF,eE)})};var ey=function(eK,eF,eG){if(!eG){return}bO("CallTracking: render phone user replacement for "+eG.length+" replacements");for(var eI=0;eI<eG.length;eI++){var eL=eG[eI];if(!eL){continue}var eM=eL[0];eL=eL.substr(1);var eE=[];if(eM==="#"){var eJ=cL.getElementById(eL);if(eJ!==null){eE.push(eJ)}}else{eE=cL.getElementsByClassName(eL);eD(eL,eK,eF)}if(!eE||eE.length<1){continue}bO("CallTracking: render phone for "+eL+", "+eE.length+" elements");for(var eH=0;eH<eE.length;eH++){ev(eE[eH],eK);eB(eE[eH],eK,eF)}}};var ex=function(eE){for(var eF=0;eF<eE.length;eF++){ey(eE[eF].phone,eE[eF].raw_phone,eE[eF].css_selectors);eu(eE[eF].phone,eE[eF].raw_phone,eE[eF].replaceable_numbers)}};var eu=function(eH,eG,eF){if(!eF||eF.length===0){return}var eE=function(){var eS=eL();var eR=cL.getElementsByTagName("*");var eM=eR.length;for(var eQ=0;eQ<eM;eQ++){var eT=eR[eQ];eI(eT,eS,eA(eT,eH));var eP=eT.childNodes.length;for(var eN=0;eN<eP;eN++){var eO=eT.childNodes[eN];eK(eO,eS,eA(eO,eH))}}};var eI=function(eQ,eP,eM){if(!eJ(eQ)){return}var eR=eQ.getAttribute("href").replace("tel:","");var eO=eP.length;for(var eN=0;eN<eO;eN++){if(eP[eN].test(eR)){eB(eQ,eA(eQ,eM),eG)}}};var eJ=function(eN){if(eN.tagName.toLowerCase()!=="a"){return false}var eM=eN.getAttribute("href");return cG(eM)&&eM.indexOf("tel:")===0};var eL=function(){var eO=[];for(var eM=0;eM<eF.length;eM++){var eN="[\\s()[\\]{}\\-+.]*";var eP=eF[eM].split("").join(eN);eO.push(new RegExp("[+(]?"+eP,"g"))}return eO};var eK=function(eP,eO,eM){if(eP.nodeType!==Node.TEXT_NODE){return}for(var eN=0;eN<eO.length;eN++){if(eP.textContent&&eO[eN].test(eP.textContent)){eP.textContent=eP.textContent.replace(eO[eN],eM)}else{if(eP.innerText&&eO[eN].test(eP.innerText)){eP.innerText=eP.innerText.replace(eO[eN],eM)}}}};eE()};var eD=function(eG,eF,eE){d0(ez(eG+"-"+ds),function(eI){var eH=ew(eI,eF).country;ev(eI,eH)});d0(ez(eG+"-"+dz),function(eI){var eH=ew(eI,eF).region;ev(eI,eH)});d0(ez(eG+"-"+bB),function(eH){var eI=ew(eH,eF).number;ev(eH,eI)});d0(ez(eG+"-"+c8),function(eH){eB(eH,eF,eE)})};var ez=function(eF){var eE=[];var eG=cL.getElementsByClassName(eF);if(eG&&eG.length){eE=eG}return eE};var et=function et(){var eF=d5();if(eF){eF=eF.split("\n");for(var eE=0;eE<eF.length;eE++){eF[eE]="."+eF[eE]}}if(ep instanceof Array){ex(ep)}else{eC(er,es);ey(er,es,eF)}};(function ek(){et();var eE=[300,5000,15000];
eE.forEach(function(eF){setTimeout(et,eF)})})()};var d3=function(ek){aT.save(af,ek,L)};var ed=function(){if(cC.roistat.callTracking.phone){var ek={expires:parseInt(cC.roistat.callTracking.sessionTime),path:"/"};if(L.domain){ek.domain=L.domain}aX(bW,cC.roistat.callTracking.phone,ek);aX(cN,cC.roistat.callTracking.rawPhone,ek);d3(1);aT.save(b7,cC.roistat.callTracking.replacementClasses,L);aT.save(aZ,cC.roistat.callTracking.phoneScriptsJson,L)}};var eb=function(em,eq,eo,en,el){bO("CallTracking: reuse phone "+em+" for time "+eq+" and replacements "+eo);var ek='script[data-roistat-script-id="'+b2+'"]';cL.querySelectorAll(ek).forEach(function(et,es){if(es===0){return}et.remove()});bO("CallTracking: all old scripts removed");if(!ei(em)){bO("CallTracking: new phone is invalid");roistat.callTracking.phone=null;cj();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=em;roistat.callTracking.sessionTime=eq;roistat.callTracking.replacementClasses=eo;roistat.callTracking.phoneScriptsJson=en;roistat.callTracking.rawPhone=el;cj();ed();var er={expires:parseInt(eq),path:"/"};if(L.domain){er.domain=L.domain}aX(bW,em,er);aX(cN,el,er);aT.save(aZ,en,L);aT.save(b7,eo,L);var ep=a5(en);e(em,el,ep)};var d6=function(){bO("CallTracking: request new phone");var ek=cB(aW);var eo=bq();var en=eo?eo:dR;var em=encodeURIComponent(k);var el=bR()+"/get-phone?visit="+ek+"&marker="+(en?en:"")+"&prefix="+b+"&prefix_bind="+aE+"&phone_scripts_bind="+cs+"&page="+em;c5(el,b2)};var d8=function(){b=cC.roistatPhonePrefix?cC.roistatPhonePrefix:"";aE=cC.roistatPhonePrefixBind?cC.roistatPhonePrefixBind:"";cs=cC.roistatCalltrackingScripts&&cC.roistatCalltrackingScripts.join?cC.roistatCalltrackingScripts.join(","):"";bO("CallTracking: refresh phone with prefix: "+b+", binding: "+aE+", scripts: "+cs);d6()};var ej=function(){var ek=aT.get(af)>0;var el=I.callTrackingEnabled;return ek&&el};var d9=function(ek){d3(ek.is_enabled)};var eg=function eg(){var el=ee();if(!ei(el)){bO("CallTracking: invalid phone "+el+", requesting a new one");d6()}else{bO("CallTracking: render phone "+el);var ek=d4();var em=a5(ec());e(el,ek,em)}};var ef=function(){bO("CallTracking: init");if(aG()){bO("CallTracking: Shut down because only online chat need to be inited");return}ed();if(!ej()){bO("CallTracking: disabled, skip");return}if(I.callTrackingManual){bO("CallTracking: init finish because off manual");return}eg();c6(eg)};cC.roistatCallTrackingRefresh=d8;cC.roistatRequestNewPhone=d6;cC.roistatReusePhone=eb;cC.roistatCalltrackingUpdateSettings=d9;aj(ef)})();(function bE(){var d2=function(d8){bO("Emailtracking: "+d8)};var d6=function(d8,ea,d9){aT.save(t,d8,L);aT.save(cO,ea,L);aT.save(bs,JSON.stringify(d9),L)};var d1=function(){var d8=(cC.roistat.emailtracking.email&&cC.roistat.emailtracking.trackingEmail)||z(cC.roistat.emailtracking.emails);if(cC.roistat.emailtracking.loaded&&d8){d2("save loaded email: "+cC.roistat.emailtracking.email);d6(cC.roistat.emailtracking.email,cC.roistat.emailtracking.trackingEmail,cC.roistat.emailtracking.emails)}else{d2("settings save skip, because not loaded");cC.roistat.emailtracking.email=aT.get(t);cC.roistat.emailtracking.email=cC.roistat.emailtracking.email?cC.roistat.emailtracking.email:null;cC.roistat.emailtracking.email=cC.roistat.emailtracking.email==="null"?null:cC.roistat.emailtracking.email;d2("email loaded from storage: "+cC.roistat.emailtracking.email);cC.roistat.emailtracking.trackingEmail=aT.get(cO);cC.roistat.emailtracking.trackingEmail=cC.roistat.emailtracking.trackingEmail?cC.roistat.emailtracking.trackingEmail:null;cC.roistat.emailtracking.trackingEmail=cC.roistat.emailtracking.trackingEmail==="null"?null:cC.roistat.emailtracking.trackingEmail;d2("tracking email loaded from storage: "+cC.roistat.emailtracking.trackingEmail);cC.roistat.emailtracking.emails=a5(aT.get(bs));cC.roistat.emailtracking.emails=cC.roistat.emailtracking.emails?cC.roistat.emailtracking.emails:null;d2("emails loaded from storage: "+JSON.stringify(cC.roistat.emailtracking.emails))}};var d4=function(d8){d6(d8.email,d8.trackingEmail,d8.emails)};var d3=function(){var d8=(!!cC.roistat.emailtracking.email&&!!cC.roistat.emailtracking.trackingEmail)||z(cC.roistat.emailtracking.emails);return cC.roistat.emailtracking.enabled&&d8};var e=function(){if(!d3()){d2("emailtracking disabled, skip swapping");return}var d9=function(ee,ef,ed){if(ee.href){var ec=bK(ee.href);if(ef.test(ec)){ee.href=ec.replace(ef,ed);return true}}if(ee.nodeType!==3){return false}if(ee.textContent&&ef.test(ee.textContent)){ee.textContent=ee.textContent.replace(ef,ed);return true}else{if(ee.innerText&&ef.test(ee.innerText)){ee.innerText=ee.innerText.replace(ef,ed);return true}}return false};var d8=function(ec){return ec.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var ea=function(ee,ed){var ec=!ed.match(/[a-z]/);return ec?ee.toUpperCase():ee};var eb=function(ek,em){var en=d8(ek);var ee=new RegExp("(^|\\s)(mailto:)?("+en+")($|\\s|\\?)","gi");var eo=function(et,er,ep,eq,es){ep=ep||"";return er+ep+ea(em,eq)+es
};d2("starting to replace email "+ek+" to "+em+" with regexp "+ee);var ed=cL.getElementsByTagName("*");var eg=ed.length;d2("found "+eg+" nodes on page");var ej=0;for(var ei=0;ei<eg;ei++){var ef=ed[ei];var el=ef.childNodes.length;if(el>0){for(var eh=0;eh<el;eh++){var ec=ef.childNodes[eh];if(d9(ec,ee,eo)){ej++}}}if(d9(ef,ee,eo)){ej++}}d2("successfully replaced "+ej+" nodes")};if(cC.roistat.emailtracking.emails){c1(cC.roistat.emailtracking.emails,eb)}else{eb(cC.roistat.emailtracking.email,cC.roistat.emailtracking.trackingEmail)}};var d5=function(){d2("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var d7=function(){d2("init");if(aG()){d2("Shut down because only online chat need to be inited");return}c6(d5);d1();d5()};cC.roistatEmailtrackingUpdateSettings=d4;cC.roistat.emailtracking.refresh=e;aj(d7)})();(function cW(){var d3=function(d5){bO("MultiDomain: "+d5)};var d2=function(){return aT.get(dx)>0};var d1=function(d9){var ea=function(ec){if(!ec){return false}if(bM(ec,"roistat_visit")){return false}var eb=dO(ec);var ee=dO(cL.domain);var ed=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);return eb!==ee&&ed.test(ec)};var d8=function(ee){var ef=ee.split("#");var ed=ef[0].split("?");var eb="";var ec="";if(ed.length===2){eb=ed[1]}if(eb){ec="&"}eb=eb+ec+"roistat_visit="+roistat.getVisit();ed[1]=eb;ef[0]=ed.join("?");return ef.join("#")};if(d9.tagName.toLowerCase()!=="a"){return}var d7=d9.getAttribute("href");var d6=false;if(ea(d7)){var d5=d8(d7);d3("update url "+d7+" > "+d5);d9.setAttribute("href",d5);d6=true}return d6};var e=function(){if(!d2()){d3("disabled, skip");return}var d5=cL.getElementsByTagName("a");var d6=d5.length;d3("found "+d6+" <a> nodes on page");var d9=0;for(var d7=0;d7<d6;d7++){var d8=d5[d7];if(d1(d8)){d9++}}d3("replaced "+d9+" nodes")};var d4=function(){d3("init");if(aG()){d3("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};aj(d4);c6(d4)})();(function V(){var e=60*1000;var d7=2*60*1000;var d1=function(d9){bO("SettingsUpdater: "+d9)};var d5=function(){aT.set(cc,cz())};var d6=function(){var ea=cM();var d9=!(ea>0);d1("is first update check: lastUpdateTime="+ea+", result="+(d9?1:0));return d9};var d8=function(){var eb=cz()-d7;var ea=cM();var d9=ea<=eb;d1("expiration check: _minTime="+eb+", lastUpdateTime="+ea+", result="+(d9?1:0));return d9};var d2=function(ea){var d9=cB(aW);ct(d9,ea)};var d3=function(ea){d1("update settings and save last update time");var d9=aT.getObject(bg)!==null;if(d9){var eb=a5(ea.js_settings.leadHunterTargetPagesMap);if(eb!==null){aT.setObject(bg,eb)}}cC.roistatCalltrackingUpdateSettings(ea.calltracking);cC.roistatEmailtrackingUpdateSettings(ea.emailtracking);cC.roistatSaveLeadHunterTemplates(ea.leadhunter_templates.form_template,ea.leadhunter_templates.pulsator_template,ea.leadhunter_templates.pulsator_settings);cC.roistatSaveMultiwidgetTemplate(ea.multiwidget_templates.pulsator_template,ea.multiwidget.pulsator_settings);cC.roistatSaveOnlineChatTemplate(ea.online_chat_templates.pulsator_template,ea.online_chat_templates.iframe_template);cC.roistatSaveProxyFormSettings(ea.proxy_forms);E(ea.js_settings);dQ(ea.multiwidget.multiwidget_settings);an(ea.online_chat);cQ(ea.geo);ai(ea.promo_code);B(ea.links_markup);J.isSettingsUpdating=false;d5()};var d4=function(){d1("init");if(d6()){d1("in first update we just start first timer and skip");d5();return}if(!d8()){d1("update is not not expired, skip");return}d1("start to update settings");d2()};aj(function(){cC.roistatUpdateSettings=d3;setTimeout(function(){d4()},3000);d1("set interval to update settings");setInterval(function(){d4()},e)})})();(function bH(d4,e,d6){var d3={};var d1=function(d8){var d7=encodeURIComponent?encodeURIComponent:encodeURI;return d7(d8)};var d2=function(ee,d8){bO("Reach goal start");if(!ee){ee={}}var eb={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:ax(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var ea in eb){if(!Object.prototype.hasOwnProperty.call(eb,ea)){continue}if(!Object.prototype.hasOwnProperty.call(ee,ea)){continue}if(!ee[ea]){continue}if(ea==="fields"||ea==="client_fields"||ea==="items"||ea==="placeholders_data"){ee[ea]=JSON.stringify(ee[ea])}eb[ea]=d1(ee[ea])}var ed=dq();var ec=cI()+"//"+b1+"/api/site/"+c+"/"+ed+"/reach-goal?v=2";for(var d9 in eb){if(!Object.prototype.hasOwnProperty.call(eb,d9)){continue}ec=ec+"&"+d9+"="+eb[d9]}if(d8!==d6){var d7=Math.random().toString();d3[d7]=d8;ec+="&callback_key="+d7}c5(ec);bO("Reach goal completed")};var d5=d4.roistatGoal={reach:function(d8,d7){d2(d8,d7)},callAfterReachCallback:function(d7){if(Object.prototype.hasOwnProperty.call(d3,d7)){d3[d7]();delete d3[d7]}}}})(cC,cL,dT);(function aa(d3,e,d4){var d1=function(d6){if(d6 instanceof Array||d6===null||typeof d6!=="object"){bO("Invalid event data");
return""}return d2(d6)};var d2=function(d7,eb,ea){var d9=eb||0;var d6=ea||[];if(d9>20){bO("Recursion depth exceeded when processing additional event fields");return""}d9++;var ee=[];for(var ed in d7){if(Object.prototype.hasOwnProperty.call(d7,ed)){var ec=d7[ed];if(typeof ec==="string"||typeof ec==="number"){var d8=d6.length>0?"["+d6.join("][")+"]":"";ee.push("&data"+d8+"["+encodeURIComponent(ed)+"]="+encodeURIComponent(ec))}else{if(typeof ec==="object"){d6.push(encodeURIComponent(ed));ee.push(d2(ec,d9,d6));d6.pop()}else{bO("Event data property ignored: "+ed)}}}}return ee.length>0?ee.join(""):""};var d5=function(d8,ea){bO("Send event start");var d6=dh();var d9=d1(ea);var d7=bR()+"/event/register?visit="+d6+"&event="+d8+d9;c5(d7);bO("Send event completed")};d3.roistat.event={send:function(d6,d7){d5(d6,d7)}}})(cC,cL,dT);(function bo(ea,ec,d3){if(aG()){bO("VisitApprove: Shut down because only online chat need to be inited");return}var ed=ea.roistatIsInitVisit===true?20000:10000;var d2=(new Date()).getTime();var d1=function(eh){return"approve_visit_"+eh};var d9=function(eh){dt.set(d1(eh),1)};var ee=function(eh){return dt.get(d1(eh))>0};var e,d5,eg=[];if(ec.addEventListener){e=function(ei,eh,ej){return ei.addEventListener(eh,ej,false)};d5=function(ei,eh,ej){return ei.removeEventListener(eh,ej,false)}}else{e=function(ei,eh,ej){return ei.attachEvent("on"+eh,ej)};d5=function(ei,eh,ej){return ei.detachEvent("on"+eh,ej)}}var d8=function(ek){if(eg.length>30){return}ek=ek||ea.event;if(!ek||!ek.screenX){return}var ej=(new Date()).getTime();var em,el=null;if(eg.length>0){el=eg[eg.length-1]}if(el){em=ej-el.time}else{em=ej-d2}if(em<300){return}em=em-300;var eo=0;var eh=ek.screenX;var en=ek.screenY;if(el){eo=parseInt(Math.sqrt(Math.pow(el.y-en,2)+Math.pow(el.x-eh,2)))}var ei={time:ej,pauseBeforeMove:em,x:eh,y:en,distance:eo};eg.push(ei)};var d7=function(){var eh=[];d0(eg,function(ei){var ej=[ei.pauseBeforeMove,ei.distance];eh.push(ej.join(":"))});if(eh.length===0){eh.push("0:0")}return eh.join("|")};var d4=function(){for(var eh in ea){if(bM(eh,"yaCounter")){return true}}return false};var eb=function(){d5(ec,"mousemove",d8);var eh=dh();bO("VisitApprove: start for visit "+eh);if(ee(eh)){bO("VisitApprove: visit already approved, skip");return}d9(eh);ca();var ei=bR()+"/approve?v="+cX+"&visit="+eh;if(ef()){ei+="&hash="+r()}if(d6()){ei+="&page_params="+encodeURIComponent(JSON.stringify(ea.roistat.page.params));a4()}ei+="&mv="+d7();ei+="&pl="+(ea.navigator?ea.navigator.platform:"");ei+="&ym="+(d4()?"1":"0");ei+="&wd="+(ea.navigator?(ea.navigator.webdriver===true?"1":"0"):"0");c5(ei)};var ef=function(){var el=J.cookies,ek=bj();var en=b3();for(var ei=0;ei<en.length;ei++){var em=en[ei];var eo=Object.prototype.hasOwnProperty.call(el,em)?el[em]:d3;var eh=Object.prototype.hasOwnProperty.call(ek,em)?ek[em]:d3;var ej=typeof eh==="string"&&eh.length>0;if(ej&&eo!==eh){return true}}return false};var d6=function(){var em=J.pageParams,ej=ea.roistat.page.params;for(var ei=0;ei<ci.length;ei++){var eh=ci[ei];var ek=Object.prototype.hasOwnProperty.call(em,eh)?em[eh]:null;var el=Object.prototype.hasOwnProperty.call(ej,eh)?ej[eh]:null;if(el!==ek){return true}}return false};setTimeout(function(){eb()},ed);e(ec,"mousemove",d8)})(cC,cL,dT);(function aC(d6,d7,d2){var d4=function(){return co("roistat_ab_demo")==="1"};var d8=function(eb){return new RegExp(eb.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var d5=function(eg){var eb=d6.location.href,ee=eg.filter,ek=eg.filterValue;var eh;switch(ee){case"except":case"pages":var ec,ej,ei=false;ej=eb?aR(eb):"";eh=ek?ek.split("\n"):[];if(ej&&eh.length!==0){for(var ed=0;ed<eh.length;ed++){var ef=eh[ed].trim();if(ef.length===0){continue}ec=d8(ef);if(ec.test(ej)){ei=true;break}}}return(ee==="pages")?ei:!ei;break;case"all":default:return true}};var d1=function(ed){var eb=d7.getElementsByTagName("head")[0],ec;ec=d7.createElement("style");ec.setAttribute("type","text/css");if(ec.styleSheet){ec.styleSheet.cssText=ed.value}else{ec.innerText=ed.value}eb.appendChild(ec);bO("Applied css-test: "+ed.id)};var e=function(eb){if(Object.prototype.hasOwnProperty.call(dr.onAbTestsApplied,eb.id)){dr.onAbTestsApplied[eb.id](eb.value)}bO("Applied uniform-test: "+eb.id)};var d3=function(eb){if(d5(eb)){switch(eb.type){case"css":d1(eb);break;case"uniform":e(eb);break}}};d6.applyTests=function(){bO("Start applying ab tests");var eb=aT.getObject("abTesting");var ed,ec;for(ed in eb){if(!Object.prototype.hasOwnProperty.call(eb,ed)){continue}ec=eb[ed];d3(ec)}J.isAbTestsApplied=true;bO("End applying ab tests");if(d6.onRoistatAbTestsApplied!==d2&&typeof d6.onRoistatAbTestsApplied==="function"){d6.onRoistatAbTestsApplied()}};var d9=function(){bO("Call: apply demo AB test");var eb=co("roistat_ab_data");var ec;if(eb===null){return}else{ec=JSON.parse(a9.decode(eb))}if(typeof ec!=="object"){bO("Error: testValue is not an object.");return}d3(ec)};function ea(){if(aG()){bO("ABTest: Shut down because only online chat need to be inited");
return}var eb=d4();if(!dp&&!eb){applyTests()}if(eb){d9()}}ea()})(cC,cL,dT);(function bI(d1,e,d2){if(aG()){bO("visitStream: Shut down because only online chat need to be inited");return}if(!aD){return}setTimeout(function(){(function(d9,d8,ec,eb,d6,d4,d7){d9[d6]={COUNTER_ID:d4,HOST:d7};var d5=d8.location.protocol=="https:"?"https://":"http://";var d3=d8.createElement(ec);d3.async=1;d3.src=d5+d7+eb;var ea=d8.getElementsByTagName(ec)[0];ea.parentNode.insertBefore(d3,ea)})(d1,e,"script","/counter.js","datamap",dq(),aD)},1000)})(cC,cL,dT);(function T(d2,e,d3){var d4=function(){var d5=d2.roistatMetrikaCounterId;if(d5){aT.set(d,d5)}};var d1=function(ea){var d5="yaCounter"+ea;var d9=100,d7=0,d8=60000;var d6=function(){d7+=d9;bO("YandexMetrika: trying to access counter "+ea);if(d2[d5]===d3){if(d7<d8){setTimeout(d6,d9);d9*=2}return}var eb={};eb[R]=dh();d2[d5].params(eb);bO("YandexMetrika: visit id "+eb[R]+" sent to counter "+ea)};setTimeout(d6,d9)};aj(function(){d4();var d7=aT.get(d);if(!d7){bO("YandexMetrika: counter id not found");return}var d6=String(d7).split(",");bO("YandexMetrika: counters: "+d6);for(var d5=0;d5<d6.length;d5++){if(d6[d5].trim()===""){continue}d1(d6[d5])}})})(cC,cL,dT);(function de(ea,ee){var ei=function(el){bO("Proxy Forms: "+el)};var d7=function(){if(ea.roistat.proxyForms.loaded&&ea.roistat.proxyForms.settings.length>0){ei("save loaded settings");ef(ea.roistat.proxyForms.settings)}else{ei("settings not loaded, getting from storage");ea.roistat.proxyForms.settings=aT.getObject(dy)||[]}};var ef=function(el){aT.setObject(dy,el)};var eb=function(){ei("init form listener");d3(ea.roistat.proxyForms.settings);e(ea.roistat.proxyForms.settings)};var ek=function(el){return el.hasOwnProperty("hosts")&&el.hasOwnProperty("is_excluding_hosts")&&y(el.hosts)&&el.hosts.length>0};var d5=function(em){if(!ek(em)){return true}var en=bY(em.hosts,dO(ea.location.host));var el=Boolean(em.is_excluding_hosts);return el?!en:en};var d2=function(em){var el=[];d0(em,function(en){if(d5(en)){el.push(en)}});return el};var e=function(el){var en=[];d0(el,function(eo){if(eo.type==="js-button"){en.push(eo)}});if(en.length<1){ei("no button settings");return}var em;if(ee.addEventListener){em=function(eo){d6(en,eo,eo.target,d4)};ee.addEventListener("click",em,true)}else{if(ee.attachEvent){em=function(){var eo=ea.event;d6(en,eo,eo.srcElement,d4,true)};ee.attachEvent("onclick",em)}else{ei("Listener could not be attached")}}};var d3=function(em){var el=[];d0(em,function(eo){if(eo.type==="form"){el.push(eo)}});if(el.length<1){ei("no form settings");return}if(ee.addEventListener){var en=function(eo){d6(el,eo,eo.target,ej)};ee.addEventListener("submit",en,true)}else{if(ee.attachEvent){setInterval(function(){el=d2(el);var eo=ee.getElementsByTagName("form");d0(eo,function(ep){if(ep.getAttribute("data-roistat-proxy-form-checked")==="true"){return}ep.setAttribute("data-roistat-proxy-form-checked","true");d0(el,function(eq){if(d1(ep,eq.selector)){ep.attachEvent("onsubmit",function(){ea.event.returnValue=false;ej(eq,ea.event.srcElement)})}})})},2000)}else{ei("Listener could not be attached")}}};var d6=function(eo,ep,eq,en,el){var er=d2(eo);var em=null;d0(er,function(es){if(d1(eq,es.selector)){em=es}});if(em===null){ei("No matched settings found for listener");return}en(ep,em,eq,el)};var ej=function(ep,en,eo,em){var el=ed(eo,en);if(!eg(el,en)){return}em?ep.returnValue=false:ep.preventDefault();d8(el,en,function(){HTMLFormElement.prototype.submit.call(eo)})};var d4=function(en,em){var el=ed(null,em);if(!eg(el,em)){return}d8(el,em)};var d8=function(el,eo,eq){var ep={};var en=d9(eo.crm)&&eo.crm.hasOwnProperty("is_enabled");var em=en?eo.crm.is_enabled:true;ep.leadName=eo.hasOwnProperty("lead_name")?eo.lead_name:"Новый лид с формы "+eo.title;ep.formTitle=eo.title;ep.name=el.name;ep.phone=el.phone;ep.email=el.email;ep.text=el.comment;ep.fields=el.fields;ep.placeholders_data=el.placeholdersData;ep.is_need_callback=eo.is_need_callback>0?1:0;ep.is_skip_sending=!em;ea.roistatGoal.reach(ep,eq)};var d9=function(el){return(typeof el==="number"&&!isNaN(el))||(typeof el==="string"&&el!=="")||(typeof el==="object"&&el!==null)||(typeof el==="boolean"&&el)||y(el)};var eg=function(el,en){var em=[],ep=["name","email","phone","comment"];d0(ep,function(eq){if(en.hasOwnProperty(eq)&&en[eq].required>0){em.push(eq)}});if(y(en.fields)){d0(en.fields,function(eq){if(eq.required>0){em.push(eq)}})}var eo=true;d0(em,function(eq){if(!el.hasOwnProperty(eq)||!d9(el[eq])){eo=false}});return eo};var ed=function(en,em){var el={};el.name=em.name?ec(en,em.name.value,em.name.type):"";el.phone=em.phone?ec(en,em.phone.value,em.phone.type):"";el.email=em.email?ec(en,em.email.value,em.email.type):"";el.comment=em.comment?ec(en,em.comment.value,em.comment.type):"";el.fields={};el.placeholdersData={orderPage:k};if(y(em.fields)){d0(em.fields,function(eo){el.fields[eo.name]=ec(en,eo.value,eo.type)})}return el};var ec=function(em,ep,el){switch(el){case"plain":return ep||"";case"input":var eo=em.querySelector('input[name="'+ep+'"]');
return eo?eo.value:"";case"js":try{return(new Function(ep))()}catch(en){return""}}};var eh=function(){ei("init");if(aG()){ei("Shut down because only online chat need to be inited");return}if(!ea.roistat.proxyForms.enabled){ei("disabled");return}d7();eb()};var d1=function(eo,em){if(typeof Element!=="undefined"&&Element.prototype.matches){var el=eo.matches(em);if(!el){return eo.closest(em)?eo.closest(em).matches(em):false}return el}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var ep=eo.matchesSelector(em);if(!ep){return eo.closest(em)?eo.closest(em).matches(em):false}return ep}else{if(ee.querySelectorAll){var eq=ee.querySelectorAll(em);for(var en=0;en<eq.length;en++){if(eq[en]===eo){return true}}return false}}}return false};aj(eh);ea.roistatSaveProxyFormSettings=ef})(cC,cL);(function Q(){if(cC.onRoistatAllModulesLoaded!==dT&&typeof cC.onRoistatAllModulesLoaded==="function"){bO("onRoistatAllModulesLoaded: call");cC.onRoistatAllModulesLoaded()}})();(function A(d7,ea,d4){var e=function(){return aT.get(dZ)*1>0};var d9=function(eg){bO("Request listener: "+eg)};var ef=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var d8=/^[^\s]+[@][^\s]+$/g;var d3=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var d2=function d2(){d9("listen");if(d7.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function ei(el){var ek=this;eb(ek.responseURL,el,function(){ek.oldSend(el)})}XMLHttpRequest.prototype.send=ei}if(d7.ActiveXObject){var eh=ej;function ej(em){var ek=new eh(em);var en={};if(em.toLowerCase()==="msxml2.xmlhttp"){en={_ax:ek,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var el="";en._onReadyStateChange=function(){var eo=en;return function(){eo.readyState=eo._ax.readyState;if(eo.readyState===4){eo.responseText=eo._ax.responseText;eo.responseXml=eo._ax.responseXml;eo.status=eo._ax.status;eo.statusText=eo._ax.statusText}if(eo.onReadyStateChange){eo.onReadyStateChange()}}}();en.open=function(es,eq,er,eo,ep){el=eq;er=(er!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(es,eq,er,eo,ep)};en.send=function(eo){var ep=this;eb(el,eo,function(){this._ax.send(eo)})}}else{en=ek}return en}d7.ActiveXObject=ej}if(d7.fetch){var eg=fetch;fetch=function(ek,el){eb(ek.url,el||{});return eg(ek,el||{})}}d7.addEventListener("submit",function(en){var ep=en.target.elements;var eo={};for(var em=0;em<ep.length;em++){var el=ep[em];var ek=el.getAttribute("name");eo[ek]=el.value}eb("",eo)})};function d5(eg){var ej={};if(eg.length===0){return ej}var ei=eg.split("?");if(ei.length<2){return ej}var eh=ei[1];ej=d1(eh);return ej}function d1(eh){var ei=eh.split("&"),ek={};for(var eg=0;eg<ei.length;eg++){var ej=ei[eg].split("=");if(ej.length<2){continue}ek[ej[0]]=ej[1]}return ek}function ed(ex){d9("data: "+JSON.stringify(ex));var eq={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var en={email:"",phone:"",name:""};for(var eg in eq){var et=eq[eg];for(var es in et){if(et.hasOwnProperty(es)){if(ex.hasOwnProperty(et[es])){en[eg]=ex[et[es]];break}}}}d9("new data: "+JSON.stringify(en));var ei=en.phone.length===0;var em=en.email.length===0;if(!ei&&!em){return en}var eh=new RegExp(d8);var el=new RegExp(ef);var eo=Object.keys(ex);for(var eu=0;eu<eo.length;eu++){var er=decodeURIComponent(String(ex[eo[eu]]));if(em){var ej=er.match(eh);if(ej&&ej.length>0){var ep=en.email;en.email=ej[0];d9("parsing email, before: "+ep+", after: "+en.email)}}if(ei){var ew=er.replace(/[\s-.()+*_—:;'"`]/g,"");var ev=ew.match(el);if(ev&&ev.length>0){var ek=en.phone;en.phone=er;d9("parsing phone, before: "+ek+", after: "+en.phone)}}}return en}var d6=function(eg){var eh=dO(eg);return !au(d3,eh)};function eb(ei,eh,eg){if(ei.length>0&&!d6(ei)){return}var ek=d5(ei);var em=eh;if(typeof em==="string"){em=d1(em)}d9("data before parsing "+JSON.stringify({get:ek,post:em}));var el=ed(ek);var ej=ed(em);d9("data after parsing "+JSON.stringify({get:el,post:ej}));ec(el,ej,eg)}function ec(eg,ei,em){var el=eg.email.length>0?eg.email:ei.email;var eh=eg.phone.length>0?eg.phone:ei.phone;var ek=eg.name.length>0?eg.name:ei.name;if(el.length==0&&eh.length==0){em();return}setTimeout(function(){em()},100);var ej={leadName:"Автоматический лид с сайта",name:ek,phone:eh,email:el,is_skip_sending:1};d9("phone or email is not empty, reaching goal "+JSON.stringify(ej));roistatGoal.reach(ej)}(function ee(){if(!e()){d9("disabled, skip");return}d2()})()})(cC,cL,dT);(function a6(d6,d7,d1){var e=false;var d2=false;var d8=[{url:"ozon.ru",isValid:function(){return d4()&&e},tag:function(){return d4()?"vendor_org_"+encodeURIComponent(d6.roistat.linksMarkup.ozonId):""}},{url:"wildberries.ru",isValid:function(){return d4()&&d2},tag:function(){return d4()?encodeURIComponent(d6.roistat.linksMarkup.wildberriesId)+"-id-my_ad_campaign":""
}}];var d5=function(d9){bO("Links markup: "+d9)};var d4=function(){return typeof d6.roistat==="object"&&d6.roistat!==null&&typeof d6.roistat.linksMarkup==="object"&&d6.roistat.linksMarkup!==null};var d3=function(eb){var ea={};var d9=eb.charAt(0)==="?"?eb.slice(1):eb;d9.split("&").forEach(function(ec){var [key,ed]=ec.split("=").map(bK);if(key.trim()===""||ed.trim()===""){return}ea[key]=ed});return ea};var getUrlTags=function(){var ef=["utm_campaign","utm_source","utm_medium","utm_term","utm_content","roistat"];var eh={};d5("get url tags");var eg=d3(d6.location.search);Object.keys(eg).forEach(function(ei){if(ef.indexOf(ei)!==-1){eh[ei]=eg[ei]}});return eh};var getLinksByUrl=function(){var eg=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);var ef=d7.querySelectorAll("a");var eh={};d5("get integration links");ef.forEach(function(ei){var ek=ei.href;if(eg.test(ek)){var ej=dO(ek);d8.forEach(function(el){if(el.isValid()&&ej.indexOf(el.url)===0&&ek.indexOf(el.tag())===-1){if(typeof eh[el.url]==="undefined"){eh[el.url]=[]}eh[el.url].push(ei)}})}});return eh};var addTagsToLinks=function(ei,eh){var ef="utm_campaign";d5("remove utm_campaign from tags");delete eh[ef];var eg=Object.keys(eh).map(function(ej){return encodeURIComponent(ej)+"="+encodeURIComponent(eh[ej])}).join("&");if(eg.length>0){eg="&"+eg}d5("prepared tags for link without utm_campaign: "+eg);d8.forEach(function(ek){if(typeof ei[ek.url]==="undefined"){return}d5("add tags for: "+ek.url);var el=ef+"="+ek.tag();var ej=el+eg;ei[ek.url].forEach(function(em){var eo=em.href.split("#");var en=eo[0].split("?");en[1]=en.length===2&&en[1]!==""?en[1]+"&"+ej:ej;eo[0]=en.join("?");em.href=eo.join("#")})})};var processLinksMarkup=function(){d5("try to find tags and integration urls");var ef=getUrlTags();if(Object.keys(ef).length===0){d5("no tags in url, skip");return}var eg=getLinksByUrl();if(Object.keys(eg).length===0){d5("no links found, skip");return}addTagsToLinks(eg,ef);d5("tags added, done")};var bD=function(){d5("init");var ef=aT.getObject(bh);if(ef&&ef.hasOwnProperty("id_ozon")&&ef.hasOwnProperty("id_wildberries")){d6.roistat.linksMarkup.ozonId=ef.id_ozon;d6.roistat.linksMarkup.wildberriesId=ef.id_wildberries;d5("set settings from storage")}else{d5("disabled, skip.");return}e=typeof d6.roistat.linksMarkup.ozonId==="string"&&d6.roistat.linksMarkup.ozonId.trim()!=="";d2=typeof d6.roistat.linksMarkup.wildberriesId==="string"&&d6.roistat.linksMarkup.wildberriesId.trim()!=="";if(e||d2){processLinksMarkup();setTimeout(function(){processLinksMarkup()},300);setTimeout(function(){processLinksMarkup()},5000);setTimeout(function(){processLinksMarkup()},15000)}else{d5("settings are empty, skip.")}};if(dH){aj(bD);c6(bD)}})(cC,cL,dT)})(window,document,undefined);